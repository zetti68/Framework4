//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/Zetzsche/Development/SimarisCurves/com.thoughtworks.xstream/src/com/thoughtworks/xstream/mapper/AttributeMapper.java
//

#line 1 "/Users/Zetzsche/Development/SimarisCurves/com.thoughtworks.xstream/src/com/thoughtworks/xstream/mapper/AttributeMapper.java"

#include "IOSClass.h"
#include "com/thoughtworks/xstream/converters/Converter.h"
#include "com/thoughtworks/xstream/converters/ConverterLookup.h"
#include "com/thoughtworks/xstream/converters/SingleValueConverter.h"
#include "com/thoughtworks/xstream/converters/reflection/ReflectionProvider.h"
#include "com/thoughtworks/xstream/mapper/AttributeMapper.h"
#include "com/thoughtworks/xstream/mapper/Mapper.h"
#include "java/lang/reflect/Field.h"
#include "java/util/HashMap.h"
#include "java/util/HashSet.h"
#include "java/util/Map.h"
#include "java/util/Set.h"


#line 37
@implementation ComThoughtworksXstreamMapperAttributeMapper


#line 48
- (instancetype)initWithComThoughtworksXstreamMapperMapper:(id<ComThoughtworksXstreamMapperMapper>)wrapped {
  return
#line 49
  [self initComThoughtworksXstreamMapperAttributeMapperWithComThoughtworksXstreamMapperMapper:wrapped withComThoughtworksXstreamConvertersConverterLookup:nil withComThoughtworksXstreamConvertersReflectionReflectionProvider:nil];
}


#line 52
- (instancetype)initComThoughtworksXstreamMapperAttributeMapperWithComThoughtworksXstreamMapperMapper:(id<ComThoughtworksXstreamMapperMapper>)wrapped
                                                  withComThoughtworksXstreamConvertersConverterLookup:(id<ComThoughtworksXstreamConvertersConverterLookup>)converterLookup
                                     withComThoughtworksXstreamConvertersReflectionReflectionProvider:(id<ComThoughtworksXstreamConvertersReflectionReflectionProvider>)refProvider {
  if (self = [super initWithComThoughtworksXstreamMapperMapper:wrapped]) {
    fieldNameToTypeMap_ =
#line 39
    [[JavaUtilHashMap alloc] init];
    typeSet_ =
#line 40
    [[JavaUtilHashSet alloc] init];
    fieldToUseAsAttribute_ =
#line 43
    [[JavaUtilHashSet alloc] init];
    
#line 54
    self->converterLookup_ = converterLookup;
    
#line 55
    self->reflectionProvider_ = refProvider;
  }
  return self;
}

- (instancetype)initWithComThoughtworksXstreamMapperMapper:(id<ComThoughtworksXstreamMapperMapper>)wrapped
       withComThoughtworksXstreamConvertersConverterLookup:(id<ComThoughtworksXstreamConvertersConverterLookup>)converterLookup
withComThoughtworksXstreamConvertersReflectionReflectionProvider:(id<ComThoughtworksXstreamConvertersReflectionReflectionProvider>)refProvider {
  return [self initComThoughtworksXstreamMapperAttributeMapperWithComThoughtworksXstreamMapperMapper:
#line 52
wrapped withComThoughtworksXstreamConvertersConverterLookup:converterLookup withComThoughtworksXstreamConvertersReflectionReflectionProvider:refProvider];
}


#line 61
- (void)setConverterLookupWithComThoughtworksXstreamConvertersConverterLookup:(id<ComThoughtworksXstreamConvertersConverterLookup>)converterLookup {
  
#line 62
  self->converterLookup_ = converterLookup;
}


#line 65
- (void)addAttributeForWithNSString:(NSString *)fieldName
                       withIOSClass:(IOSClass *)type {
  
#line 66
  (void) [((id<JavaUtilMap>) nil_chk(fieldNameToTypeMap_)) putWithId:fieldName withId:type];
}


#line 69
- (void)addAttributeForWithIOSClass:(IOSClass *)type {
  
#line 70
  [((id<JavaUtilSet>) nil_chk(typeSet_)) addWithId:type];
}


#line 73
- (id<ComThoughtworksXstreamConvertersSingleValueConverter>)getLocalConverterFromItemTypeWithIOSClass:(IOSClass *)type {
  
#line 74
  id<ComThoughtworksXstreamConvertersConverter> converter = [((id<ComThoughtworksXstreamConvertersConverterLookup>) nil_chk(converterLookup_)) lookupConverterForTypeWithIOSClass:type];
  if (converter != nil && [(id) converter conformsToProtocol: @protocol(ComThoughtworksXstreamConvertersSingleValueConverter)]) {
    return (id<ComThoughtworksXstreamConvertersSingleValueConverter>) check_protocol_cast(converter, @protocol(ComThoughtworksXstreamConvertersSingleValueConverter));
  }
  else {
    
#line 78
    return nil;
  }
}


#line 85
- (id<ComThoughtworksXstreamConvertersSingleValueConverter>)getConverterFromItemTypeWithNSString:(NSString *)fieldName
                                                                                    withIOSClass:(IOSClass *)type {
  
#line 86
  if ([((id<JavaUtilMap>) nil_chk(fieldNameToTypeMap_)) getWithId:fieldName] == type) {
    return [self getLocalConverterFromItemTypeWithIOSClass:type];
  }
  else {
    
#line 89
    return nil;
  }
}


#line 93
- (id<ComThoughtworksXstreamConvertersSingleValueConverter>)getConverterFromItemTypeWithNSString:(NSString *)fieldName
                                                                                    withIOSClass:(IOSClass *)type
                                                                                    withIOSClass:(IOSClass *)definedIn {
  
#line 95
  if ([self shouldLookForSingleValueConverterWithNSString:fieldName withIOSClass:type withIOSClass:definedIn]) {
    id<ComThoughtworksXstreamConvertersSingleValueConverter> converter = [self getLocalConverterFromItemTypeWithIOSClass:type];
    if (converter != nil) {
      return converter;
    }
  }
  return [super getConverterFromItemTypeWithNSString:fieldName withIOSClass:type withIOSClass:definedIn];
}


#line 104
- (jboolean)shouldLookForSingleValueConverterWithNSString:(NSString *)fieldName
                                             withIOSClass:(IOSClass *)type
                                             withIOSClass:(IOSClass *)definedIn {
  
#line 105
  if ([((id<JavaUtilSet>) nil_chk(typeSet_)) containsWithId:type]) {
    return YES;
  }
  else
#line 107
  if ([((id<JavaUtilMap>) nil_chk(fieldNameToTypeMap_)) getWithId:fieldName] == type) {
    return YES;
  }
  else
#line 109
  if (fieldName != nil && definedIn != nil) {
    JavaLangReflectField *field = [((id<ComThoughtworksXstreamConvertersReflectionReflectionProvider>) nil_chk(reflectionProvider_)) getFieldWithIOSClass:definedIn withNSString:fieldName];
    return [((id<JavaUtilSet>) nil_chk(fieldToUseAsAttribute_)) containsWithId:field];
  }
  return NO;
}


#line 119
- (id<ComThoughtworksXstreamConvertersSingleValueConverter>)getConverterFromItemTypeWithIOSClass:(IOSClass *)type {
  
#line 120
  if ([((id<JavaUtilSet>) nil_chk(typeSet_)) containsWithId:type]) {
    return [self getLocalConverterFromItemTypeWithIOSClass:type];
  }
  else {
    
#line 123
    return nil;
  }
}


#line 130
- (id<ComThoughtworksXstreamConvertersSingleValueConverter>)getConverterFromAttributeWithNSString:(NSString *)attributeName {
  
#line 131
  id<ComThoughtworksXstreamConvertersSingleValueConverter> converter = nil;
  IOSClass *type = (IOSClass *) check_class_cast([((id<JavaUtilMap>) nil_chk(fieldNameToTypeMap_)) getWithId:attributeName], [IOSClass class]);
  if (type != nil) {
    converter = [self getLocalConverterFromItemTypeWithIOSClass:type];
  }
  return converter;
}


#line 142
- (id<ComThoughtworksXstreamConvertersSingleValueConverter>)getConverterFromAttributeWithIOSClass:(IOSClass *)definedIn
                                                                                     withNSString:(NSString *)attribute {
  
#line 143
  JavaLangReflectField *field = [((id<ComThoughtworksXstreamConvertersReflectionReflectionProvider>) nil_chk(reflectionProvider_)) getFieldWithIOSClass:definedIn withNSString:attribute];
  return [self getConverterFromAttributeWithIOSClass:definedIn withNSString:attribute withIOSClass:[((JavaLangReflectField *) nil_chk(field)) getType]];
}


#line 147
- (id<ComThoughtworksXstreamConvertersSingleValueConverter>)getConverterFromAttributeWithIOSClass:(IOSClass *)definedIn
                                                                                     withNSString:(NSString *)attribute
                                                                                     withIOSClass:(IOSClass *)type {
  
#line 148
  if ([self shouldLookForSingleValueConverterWithNSString:attribute withIOSClass:type withIOSClass:definedIn]) {
    id<ComThoughtworksXstreamConvertersSingleValueConverter> converter = [self getLocalConverterFromItemTypeWithIOSClass:type];
    if (converter != nil) {
      return converter;
    }
  }
  return [super getConverterFromAttributeWithIOSClass:definedIn withNSString:attribute withIOSClass:type];
}


#line 163
- (void)addAttributeForWithJavaLangReflectField:(JavaLangReflectField *)field {
  
#line 164
  [((id<JavaUtilSet>) nil_chk(fieldToUseAsAttribute_)) addWithId:field];
}


#line 175
- (void)addAttributeForWithIOSClass:(IOSClass *)definedIn
                       withNSString:(NSString *)fieldName {
  
#line 176
  [((id<JavaUtilSet>) nil_chk(fieldToUseAsAttribute_)) addWithId:[((id<ComThoughtworksXstreamConvertersReflectionReflectionProvider>) nil_chk(reflectionProvider_)) getFieldWithIOSClass:definedIn withNSString:fieldName]];
}

- (void)copyAllFieldsTo:(ComThoughtworksXstreamMapperAttributeMapper *)other {
  [super copyAllFieldsTo:other];
  other->converterLookup_ = converterLookup_;
  other->fieldNameToTypeMap_ = fieldNameToTypeMap_;
  other->fieldToUseAsAttribute_ = fieldToUseAsAttribute_;
  other->reflectionProvider_ = reflectionProvider_;
  other->typeSet_ = typeSet_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithComThoughtworksXstreamMapperMapper:", "AttributeMapper", NULL, 0x1, NULL },
    { "initWithComThoughtworksXstreamMapperMapper:withComThoughtworksXstreamConvertersConverterLookup:withComThoughtworksXstreamConvertersReflectionReflectionProvider:", "AttributeMapper", NULL, 0x1, NULL },
    { "setConverterLookupWithComThoughtworksXstreamConvertersConverterLookup:", "setConverterLookup", "V", 0x1, NULL },
    { "addAttributeForWithNSString:withIOSClass:", "addAttributeFor", "V", 0x1, NULL },
    { "addAttributeForWithIOSClass:", "addAttributeFor", "V", 0x1, NULL },
    { "getLocalConverterFromItemTypeWithIOSClass:", "getLocalConverterFromItemType", "Lcom.thoughtworks.xstream.converters.SingleValueConverter;", 0x2, NULL },
    { "getConverterFromItemTypeWithNSString:withIOSClass:", "getConverterFromItemType", "Lcom.thoughtworks.xstream.converters.SingleValueConverter;", 0x1, NULL },
    { "getConverterFromItemTypeWithNSString:withIOSClass:withIOSClass:", "getConverterFromItemType", "Lcom.thoughtworks.xstream.converters.SingleValueConverter;", 0x1, NULL },
    { "shouldLookForSingleValueConverterWithNSString:withIOSClass:withIOSClass:", "shouldLookForSingleValueConverter", "Z", 0x1, NULL },
    { "getConverterFromItemTypeWithIOSClass:", "getConverterFromItemType", "Lcom.thoughtworks.xstream.converters.SingleValueConverter;", 0x1, NULL },
    { "getConverterFromAttributeWithNSString:", "getConverterFromAttribute", "Lcom.thoughtworks.xstream.converters.SingleValueConverter;", 0x1, NULL },
    { "getConverterFromAttributeWithIOSClass:withNSString:", "getConverterFromAttribute", "Lcom.thoughtworks.xstream.converters.SingleValueConverter;", 0x1, NULL },
    { "getConverterFromAttributeWithIOSClass:withNSString:withIOSClass:", "getConverterFromAttribute", "Lcom.thoughtworks.xstream.converters.SingleValueConverter;", 0x1, NULL },
    { "addAttributeForWithJavaLangReflectField:", "addAttributeFor", "V", 0x1, NULL },
    { "addAttributeForWithIOSClass:withNSString:", "addAttributeFor", "V", 0x1, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "fieldNameToTypeMap_", NULL, 0x12, "Ljava.util.Map;", NULL,  },
    { "typeSet_", NULL, 0x12, "Ljava.util.Set;", NULL,  },
    { "converterLookup_", NULL, 0x2, "Lcom.thoughtworks.xstream.converters.ConverterLookup;", NULL,  },
    { "reflectionProvider_", NULL, 0x2, "Lcom.thoughtworks.xstream.converters.reflection.ReflectionProvider;", NULL,  },
    { "fieldToUseAsAttribute_", NULL, 0x12, "Ljava.util.Set;", NULL,  },
  };
  static const J2ObjcClassInfo _ComThoughtworksXstreamMapperAttributeMapper = { "AttributeMapper", "com.thoughtworks.xstream.mapper", NULL, 0x1, 15, methods, 5, fields, 0, NULL};
  return &_ComThoughtworksXstreamMapperAttributeMapper;
}

@end
