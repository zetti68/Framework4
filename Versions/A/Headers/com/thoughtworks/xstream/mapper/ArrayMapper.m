//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/Zetzsche/Development/SimarisCurves/com.thoughtworks.xstream/bin/src/com/thoughtworks/xstream/mapper/ArrayMapper.java
//


#line 1 "/Users/Zetzsche/Development/SimarisCurves/com.thoughtworks.xstream/bin/src/com/thoughtworks/xstream/mapper/ArrayMapper.java"

#include "IOSClass.h"
#include "J2ObjC_source.h"
#include "com/thoughtworks/xstream/core/util/Primitives.h"
#include "com/thoughtworks/xstream/mapper/ArrayMapper.h"
#include "com/thoughtworks/xstream/mapper/Mapper.h"
#include "com/thoughtworks/xstream/mapper/MapperWrapper.h"
#include "java/lang/StringBuffer.h"

@interface ComThoughtworksXstreamMapperArrayMapper ()

- (NSString *)arrayTypeWithInt:(jint)dimensions
                  withIOSClass:(IOSClass *)componentType;

- (NSString *)boxedTypeNameWithIOSClass:(IOSClass *)type;

@end

__attribute__((unused)) static NSString *ComThoughtworksXstreamMapperArrayMapper_arrayTypeWithInt_withIOSClass_(ComThoughtworksXstreamMapperArrayMapper *self, jint dimensions, IOSClass *componentType);

__attribute__((unused)) static NSString *ComThoughtworksXstreamMapperArrayMapper_boxedTypeNameWithIOSClass_(ComThoughtworksXstreamMapperArrayMapper *self, IOSClass *type);


#line 22
@implementation ComThoughtworksXstreamMapperArrayMapper

- (instancetype)initWithComThoughtworksXstreamMapperMapper:(id<ComThoughtworksXstreamMapperMapper>)wrapped {
  ComThoughtworksXstreamMapperArrayMapper_initWithComThoughtworksXstreamMapperMapper_(self, wrapped);
  return self;
}


#line 28
- (NSString *)serializedClassWithIOSClass:(IOSClass *)type {
  JavaLangStringBuffer *arraySuffix = new_JavaLangStringBuffer_init();
  NSString *name = nil;
  while ([((IOSClass *) nil_chk(type)) isArray]) {
    name = [super serializedClassWithIOSClass:type];
    if ([((NSString *) nil_chk([type getName])) isEqual:name]) {
      type = [type getComponentType];
      (void) [arraySuffix appendWithNSString:@"-array"];
      name = nil;
    }
    else {
      
#line 38
      break;
    }
  }
  if (name == nil) {
    name = ComThoughtworksXstreamMapperArrayMapper_boxedTypeNameWithIOSClass_(self, type);
  }
  if (name == nil) {
    name = [super serializedClassWithIOSClass:type];
  }
  if ([arraySuffix length] > 0) {
    return JreStrcat("$@", name, arraySuffix);
  }
  else {
    
#line 50
    return name;
  }
}


#line 54
- (IOSClass *)realClassWithNSString:(NSString *)elementName {
  jint dimensions = 0;
  
#line 58
  while ([((NSString *) nil_chk(elementName)) hasSuffix:@"-array"]) {
    elementName = [elementName substring:0 endIndex:((jint) [elementName length]) - 6];
    ++dimensions;
  }
  
#line 63
  if (dimensions > 0) {
    IOSClass *componentType = ComThoughtworksXstreamCoreUtilPrimitives_primitiveTypeWithNSString_(elementName);
    if (componentType == nil) {
      componentType = [super realClassWithNSString:elementName];
    }
    while ([((IOSClass *) nil_chk(componentType)) isArray]) {
      componentType = [componentType getComponentType];
      ++dimensions;
    }
    return [super realClassWithNSString:ComThoughtworksXstreamMapperArrayMapper_arrayTypeWithInt_withIOSClass_(self, dimensions, componentType)];
  }
  else {
    
#line 74
    return [super realClassWithNSString:elementName];
  }
}


#line 78
- (NSString *)arrayTypeWithInt:(jint)dimensions
                  withIOSClass:(IOSClass *)componentType {
  return ComThoughtworksXstreamMapperArrayMapper_arrayTypeWithInt_withIOSClass_(self, dimensions, componentType);
}


#line 92
- (NSString *)boxedTypeNameWithIOSClass:(IOSClass *)type {
  return ComThoughtworksXstreamMapperArrayMapper_boxedTypeNameWithIOSClass_(self, type);
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithComThoughtworksXstreamMapperMapper:", "ArrayMapper", NULL, 0x1, NULL, NULL },
    { "serializedClassWithIOSClass:", "serializedClass", "Ljava.lang.String;", 0x1, NULL, NULL },
    { "realClassWithNSString:", "realClass", "Ljava.lang.Class;", 0x1, NULL, NULL },
    { "arrayTypeWithInt:withIOSClass:", "arrayType", "Ljava.lang.String;", 0x2, NULL, NULL },
    { "boxedTypeNameWithIOSClass:", "boxedTypeName", "Ljava.lang.String;", 0x2, NULL, NULL },
  };
  static const J2ObjcClassInfo _ComThoughtworksXstreamMapperArrayMapper = { 2, "ArrayMapper", "com.thoughtworks.xstream.mapper", NULL, 0x1, 5, methods, 0, NULL, 0, NULL, 0, NULL, NULL, NULL };
  return &_ComThoughtworksXstreamMapperArrayMapper;
}

@end


#line 24
void ComThoughtworksXstreamMapperArrayMapper_initWithComThoughtworksXstreamMapperMapper_(ComThoughtworksXstreamMapperArrayMapper *self, id<ComThoughtworksXstreamMapperMapper> wrapped) {
  (void) ComThoughtworksXstreamMapperMapperWrapper_initWithComThoughtworksXstreamMapperMapper_(self, wrapped);
}


#line 24
ComThoughtworksXstreamMapperArrayMapper *new_ComThoughtworksXstreamMapperArrayMapper_initWithComThoughtworksXstreamMapperMapper_(id<ComThoughtworksXstreamMapperMapper> wrapped) {
  ComThoughtworksXstreamMapperArrayMapper *self = [ComThoughtworksXstreamMapperArrayMapper alloc];
  ComThoughtworksXstreamMapperArrayMapper_initWithComThoughtworksXstreamMapperMapper_(self, wrapped);
  return self;
}


#line 78
NSString *ComThoughtworksXstreamMapperArrayMapper_arrayTypeWithInt_withIOSClass_(ComThoughtworksXstreamMapperArrayMapper *self, jint dimensions, IOSClass *componentType) {
  JavaLangStringBuffer *className_ = new_JavaLangStringBuffer_init();
  for (jint i = 0; i < dimensions; i++) {
    (void) [className_ appendWithChar:'['];
  }
  if ([((IOSClass *) nil_chk(componentType)) isPrimitive]) {
    (void) [className_ appendWithChar:ComThoughtworksXstreamCoreUtilPrimitives_representingCharWithIOSClass_(componentType)];
    return [className_ description];
  }
  else {
    
#line 87
    (void) [((JavaLangStringBuffer *) nil_chk([((JavaLangStringBuffer *) nil_chk([className_ appendWithChar:'L'])) appendWithNSString:[componentType getName]])) appendWithChar:';'];
    return [className_ description];
  }
}


#line 92
NSString *ComThoughtworksXstreamMapperArrayMapper_boxedTypeNameWithIOSClass_(ComThoughtworksXstreamMapperArrayMapper *self, IOSClass *type) {
  return ComThoughtworksXstreamCoreUtilPrimitives_isBoxedWithIOSClass_(type) ? [((IOSClass *) nil_chk(type)) getName] : nil;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComThoughtworksXstreamMapperArrayMapper)
