//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/Zetzsche/Development/SimarisCurves/com.thoughtworks.xstream/bin/src/com/thoughtworks/xstream/io/xml/XmlFriendlyNameCoder.java
//


#line 1 "/Users/Zetzsche/Development/SimarisCurves/com.thoughtworks.xstream/bin/src/com/thoughtworks/xstream/io/xml/XmlFriendlyNameCoder.java"

#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "com/thoughtworks/xstream/converters/reflection/ObjectAccessException.h"
#include "com/thoughtworks/xstream/io/xml/XmlFriendlyNameCoder.h"
#include "java/lang/CloneNotSupportedException.h"
#include "java/lang/Integer.h"
#include "java/lang/StringBuffer.h"
#include "java/util/ArrayList.h"
#include "java/util/HashMap.h"
#include "java/util/Map.h"

@interface ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder () {
 @public
  NSString *dollarReplacement_;
  NSString *escapeCharReplacement_;
  id<JavaUtilMap> escapeCache_;
  id<JavaUtilMap> unescapeCache_;
  NSString *hexPrefix_;
}

- (NSString *)encodeNameWithNSString:(NSString *)name;

- (NSString *)decodeNameWithNSString:(NSString *)name;

- (id)readResolve;

+ (jboolean)isXmlNameStartCharWithInt:(jint)cp;

+ (jboolean)isXmlNameCharWithInt:(jint)cp;

+ (jboolean)isInNameCharBoundsWithInt:(jint)cp
withComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPairArray:(IOSObjectArray *)nameCharBounds;

@end

J2OBJC_FIELD_SETTER(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder, dollarReplacement_, NSString *)
J2OBJC_FIELD_SETTER(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder, escapeCharReplacement_, NSString *)
J2OBJC_FIELD_SETTER(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder, escapeCache_, id<JavaUtilMap>)
J2OBJC_FIELD_SETTER(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder, unescapeCache_, id<JavaUtilMap>)
J2OBJC_FIELD_SETTER(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder, hexPrefix_, NSString *)

static IOSObjectArray *ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_XML_NAME_START_CHAR_BOUNDS_;
J2OBJC_STATIC_FIELD_GETTER(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder, XML_NAME_START_CHAR_BOUNDS_, IOSObjectArray *)

static IOSObjectArray *ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_XML_NAME_CHAR_EXTRA_BOUNDS_;
J2OBJC_STATIC_FIELD_GETTER(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder, XML_NAME_CHAR_EXTRA_BOUNDS_, IOSObjectArray *)

__attribute__((unused)) static NSString *ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_encodeNameWithNSString_(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder *self, NSString *name);

__attribute__((unused)) static NSString *ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_decodeNameWithNSString_(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder *self, NSString *name);

__attribute__((unused)) static id ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_readResolve(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder *self);

__attribute__((unused)) static jboolean ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_isXmlNameStartCharWithInt_(jint cp);

__attribute__((unused)) static jboolean ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_isXmlNameCharWithInt_(jint cp);

__attribute__((unused)) static jboolean ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_isInNameCharBoundsWithInt_withComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPairArray_(jint cp, IOSObjectArray *nameCharBounds);

@interface ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_1IntPairList : JavaUtilArrayList

- (void)addWithInt:(jint)min
           withInt:(jint)max;

- (void)addWithChar:(jchar)cp;

- (instancetype)init;


@end

J2OBJC_EMPTY_STATIC_INIT(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_1IntPairList)

__attribute__((unused)) static void ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_1IntPairList_init(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_1IntPairList *self);

__attribute__((unused)) static ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_1IntPairList *new_ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_1IntPairList_init() NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_1IntPairList)

@interface ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPair : NSObject {
 @public
  jint min_;
  jint max_;
}

- (instancetype)initWithInt:(jint)min
                    withInt:(jint)max;

@end

J2OBJC_EMPTY_STATIC_INIT(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPair)

__attribute__((unused)) static void ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPair_initWithInt_withInt_(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPair *self, jint min, jint max);

__attribute__((unused)) static ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPair *new_ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPair_initWithInt_withInt_(jint min, jint max) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPair)

J2OBJC_INITIALIZED_DEFN(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder)


#line 48
@implementation ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder


#line 107
- (instancetype)init {
  ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_init(self);
  return self;
}


#line 119
- (instancetype)initWithNSString:(NSString *)dollarReplacement
                    withNSString:(NSString *)escapeCharReplacement {
  ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_initWithNSString_withNSString_(self, dollarReplacement, escapeCharReplacement);
  return self;
}


#line 132
- (instancetype)initWithNSString:(NSString *)dollarReplacement
                    withNSString:(NSString *)escapeCharReplacement
                    withNSString:(NSString *)hexPrefix {
  ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_initWithNSString_withNSString_withNSString_(self, dollarReplacement, escapeCharReplacement, hexPrefix);
  return self;
}


#line 143
- (NSString *)decodeAttributeWithNSString:(NSString *)attributeName {
  return ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_decodeNameWithNSString_(self, attributeName);
}


#line 150
- (NSString *)decodeNodeWithNSString:(NSString *)elementName {
  return ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_decodeNameWithNSString_(self, elementName);
}


#line 157
- (NSString *)encodeAttributeWithNSString:(NSString *)name {
  return ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_encodeNameWithNSString_(self, name);
}


#line 164
- (NSString *)encodeNodeWithNSString:(NSString *)name {
  return ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_encodeNameWithNSString_(self, name);
}

- (NSString *)encodeNameWithNSString:(NSString *)name {
  return ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_encodeNameWithNSString_(self, name);
}


#line 217
- (NSString *)decodeNameWithNSString:(NSString *)name {
  return ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_decodeNameWithNSString_(self, name);
}


#line 276
- (id)clone {
  @try {
    ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder *coder = (ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder *) check_class_cast([super clone], [ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder class]);
    (void) ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_readResolve(nil_chk(coder));
    return coder;
  }
  @catch (JavaLangCloneNotSupportedException *e) {
    @throw new_ComThoughtworksXstreamConvertersReflectionObjectAccessException_initWithNSString_withJavaLangThrowable_(@"Cannot clone XmlFriendlyNameCoder", e);
  }
}

- (id)readResolve {
  return ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_readResolve(self);
}


#line 293
- (id<JavaUtilMap>)createCacheMap {
  return new_JavaUtilHashMap_init();
}


#line 307
+ (jboolean)isXmlNameStartCharWithInt:(jint)cp {
  return ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_isXmlNameStartCharWithInt_(cp);
}

+ (jboolean)isXmlNameCharWithInt:(jint)cp {
  return ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_isXmlNameCharWithInt_(cp);
}


#line 318
+ (jboolean)isInNameCharBoundsWithInt:(jint)cp
withComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPairArray:(IOSObjectArray *)nameCharBounds {
  return ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_isInNameCharBoundsWithInt_withComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPairArray_(cp, nameCharBounds);
}

- (id)copyWithZone:(NSZone *)zone {
  return [self clone];
}

+ (void)initialize {
  if (self == [ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder class]) {
    {
      
#line 65
      ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_1IntPairList *list = new_ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_1IntPairList_init();
      
#line 67
      [list addWithChar:':'];
      [list addWithInt:'A' withInt:'Z'];
      [list addWithInt:'a' withInt:'z'];
      [list addWithChar:'_'];
      
#line 72
      [list addWithInt:(jint) 0xC0 withInt:(jint) 0xD6];
      [list addWithInt:(jint) 0xD8 withInt:(jint) 0xF6];
      [list addWithInt:(jint) 0xF8 withInt:(jint) 0x2FF];
      [list addWithInt:(jint) 0x370 withInt:(jint) 0x37D];
      [list addWithInt:(jint) 0x37F withInt:(jint) 0x1FFF];
      [list addWithInt:(jint) 0x200C withInt:(jint) 0x200D];
      [list addWithInt:(jint) 0x2070 withInt:(jint) 0x218F];
      [list addWithInt:(jint) 0x2C00 withInt:(jint) 0x2FEF];
      [list addWithInt:(jint) 0x3001 withInt:(jint) 0xD7FF];
      [list addWithInt:(jint) 0xF900 withInt:(jint) 0xFDCF];
      [list addWithInt:(jint) 0xFDF0 withInt:(jint) 0xFFFD];
      [list addWithInt:(jint) 0x10000 withInt:(jint) 0xEFFFF];
      ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_XML_NAME_START_CHAR_BOUNDS_ = (IOSObjectArray *) check_class_cast([list toArrayWithNSObjectArray:[IOSObjectArray newArrayWithLength:[list size] type:ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPair_class_()]], [IOSObjectArray class]);
      
#line 86
      [list clear];
      [list addWithChar:'-'];
      [list addWithChar:'.'];
      [list addWithInt:'0' withInt:'9'];
      [list addWithChar:0x00b7];
      [list addWithInt:(jint) 0x0300 withInt:(jint) 0x036F];
      [list addWithInt:(jint) 0x203F withInt:(jint) 0x2040];
      ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_XML_NAME_CHAR_EXTRA_BOUNDS_ = (IOSObjectArray *) check_class_cast([list toArrayWithNSObjectArray:[IOSObjectArray newArrayWithLength:[list size] type:ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPair_class_()]], [IOSObjectArray class]);
    }
    J2OBJC_SET_INITIALIZED(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "init", "XmlFriendlyNameCoder", NULL, 0x1, NULL, NULL },
    { "initWithNSString:withNSString:", "XmlFriendlyNameCoder", NULL, 0x1, NULL, NULL },
    { "initWithNSString:withNSString:withNSString:", "XmlFriendlyNameCoder", NULL, 0x1, NULL, NULL },
    { "decodeAttributeWithNSString:", "decodeAttribute", "Ljava.lang.String;", 0x1, NULL, NULL },
    { "decodeNodeWithNSString:", "decodeNode", "Ljava.lang.String;", 0x1, NULL, NULL },
    { "encodeAttributeWithNSString:", "encodeAttribute", "Ljava.lang.String;", 0x1, NULL, NULL },
    { "encodeNodeWithNSString:", "encodeNode", "Ljava.lang.String;", 0x1, NULL, NULL },
    { "encodeNameWithNSString:", "encodeName", "Ljava.lang.String;", 0x2, NULL, NULL },
    { "decodeNameWithNSString:", "decodeName", "Ljava.lang.String;", 0x2, NULL, NULL },
    { "clone", NULL, "Ljava.lang.Object;", 0x1, NULL, NULL },
    { "readResolve", NULL, "Ljava.lang.Object;", 0x2, NULL, NULL },
    { "createCacheMap", NULL, "Ljava.util.Map;", 0x4, NULL, NULL },
    { "isXmlNameStartCharWithInt:", "isXmlNameStartChar", "Z", 0xa, NULL, NULL },
    { "isXmlNameCharWithInt:", "isXmlNameChar", "Z", 0xa, NULL, NULL },
    { "isInNameCharBoundsWithInt:withComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPairArray:", "isInNameCharBounds", "Z", 0xa, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "XML_NAME_START_CHAR_BOUNDS_", NULL, 0x1a, "[Lcom.thoughtworks.xstream.io.xml.XmlFriendlyNameCoder$IntPair;", &ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_XML_NAME_START_CHAR_BOUNDS_, NULL,  },
    { "XML_NAME_CHAR_EXTRA_BOUNDS_", NULL, 0x1a, "[Lcom.thoughtworks.xstream.io.xml.XmlFriendlyNameCoder$IntPair;", &ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_XML_NAME_CHAR_EXTRA_BOUNDS_, NULL,  },
    { "dollarReplacement_", NULL, 0x12, "Ljava.lang.String;", NULL, NULL,  },
    { "escapeCharReplacement_", NULL, 0x12, "Ljava.lang.String;", NULL, NULL,  },
    { "escapeCache_", NULL, 0x82, "Ljava.util.Map;", NULL, NULL,  },
    { "unescapeCache_", NULL, 0x82, "Ljava.util.Map;", NULL, NULL,  },
    { "hexPrefix_", NULL, 0x12, "Ljava.lang.String;", NULL, NULL,  },
  };
  static const char *inner_classes[] = {"Lcom.thoughtworks.xstream.io.xml.XmlFriendlyNameCoder$IntPair;"};
  static const J2ObjcClassInfo _ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder = { 2, "XmlFriendlyNameCoder", "com.thoughtworks.xstream.io.xml", NULL, 0x1, 15, methods, 7, fields, 0, NULL, 1, inner_classes, NULL, NULL };
  return &_ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder;
}

@end


#line 107
void ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_init(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder *self) {
  (void) ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_initWithNSString_withNSString_(self, @"_-", @"__");
}


#line 107
ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder *new_ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_init() {
  ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder *self = [ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder alloc];
  ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_init(self);
  return self;
}


#line 119
void ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_initWithNSString_withNSString_(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder *self, NSString *dollarReplacement, NSString *escapeCharReplacement) {
  (void) ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_initWithNSString_withNSString_withNSString_(self, dollarReplacement, escapeCharReplacement, @"_.");
}


#line 119
ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder *new_ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_initWithNSString_withNSString_(NSString *dollarReplacement, NSString *escapeCharReplacement) {
  ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder *self = [ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder alloc];
  ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_initWithNSString_withNSString_(self, dollarReplacement, escapeCharReplacement);
  return self;
}


#line 132
void ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_initWithNSString_withNSString_withNSString_(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder *self, NSString *dollarReplacement, NSString *escapeCharReplacement, NSString *hexPrefix) {
  (void) NSObject_init(self);
  self->dollarReplacement_ = dollarReplacement;
  self->escapeCharReplacement_ = escapeCharReplacement;
  self->hexPrefix_ = hexPrefix;
  (void) ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_readResolve(self);
}


#line 132
ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder *new_ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_initWithNSString_withNSString_withNSString_(NSString *dollarReplacement, NSString *escapeCharReplacement, NSString *hexPrefix) {
  ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder *self = [ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder alloc];
  ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_initWithNSString_withNSString_withNSString_(self, dollarReplacement, escapeCharReplacement, hexPrefix);
  return self;
}


#line 168
NSString *ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_encodeNameWithNSString_(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder *self, NSString *name) {
  NSString *s = (NSString *) check_class_cast([((id<JavaUtilMap>) nil_chk(self->escapeCache_)) getWithId:name], [NSString class]);
  if (s == nil) {
    jint length = ((jint) [((NSString *) nil_chk(name)) length]);
    
#line 174
    jint i = 0;
    
#line 176
    for (; i < length; i++) {
      jchar c = [name charAtWithInt:i];
      if (c == '$' || c == '_' || c <= 27 || c >= 127) {
        break;
      }
    }
    
#line 183
    if (i == length) {
      return name;
    }
    
#line 188
    JavaLangStringBuffer *result = new_JavaLangStringBuffer_initWithInt_(length + 8);
    
#line 191
    if (i > 0) {
      (void) [result appendWithNSString:[name substring:0 endIndex:i]];
    }
    
#line 195
    for (; i < length; i++) {
      jchar c = [name charAtWithInt:i];
      if (c == '$') {
        (void) [result appendWithNSString:self->dollarReplacement_];
      }
      else
#line 199
      if (c == '_') {
        (void) [result appendWithNSString:self->escapeCharReplacement_];
      }
      else
#line 201
      if ((i == 0 && !ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_isXmlNameStartCharWithInt_(c)) || (i > 0 && !ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_isXmlNameCharWithInt_(c))) {
        (void) [result appendWithNSString:self->hexPrefix_];
        if (c < 16) (void) [result appendWithNSString:@"000"];
        else if (c < 256) (void) [result appendWithNSString:@"00"];
        else if (c < 4096) (void) [result appendWithNSString:@"0"];
        (void) [result appendWithNSString:JavaLangInteger_toHexStringWithInt_(c)];
      }
      else {
        
#line 208
        (void) [result appendWithChar:c];
      }
    }
    s = [result description];
    (void) [self->escapeCache_ putWithId:name withId:s];
  }
  return s;
}


#line 217
NSString *ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_decodeNameWithNSString_(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder *self, NSString *name) {
  NSString *s = (NSString *) check_class_cast([((id<JavaUtilMap>) nil_chk(self->unescapeCache_)) getWithId:name], [NSString class]);
  if (s == nil) {
    jchar dollarReplacementFirstChar = [((NSString *) nil_chk(self->dollarReplacement_)) charAtWithInt:0];
    jchar escapeReplacementFirstChar = [((NSString *) nil_chk(self->escapeCharReplacement_)) charAtWithInt:0];
    jchar hexPrefixFirstChar = [((NSString *) nil_chk(self->hexPrefix_)) charAtWithInt:0];
    jint length = ((jint) [((NSString *) nil_chk(name)) length]);
    
#line 226
    jint i = 0;
    
#line 228
    for (; i < length; i++) {
      jchar c = [name charAtWithInt:i];
      
#line 231
      if (c == dollarReplacementFirstChar ||
#line 232
      c == escapeReplacementFirstChar ||
#line 233
      c == hexPrefixFirstChar) {
        
#line 235
        break;
      }
    }
    
#line 239
    if (i == length) {
      return name;
    }
    
#line 244
    JavaLangStringBuffer *result = new_JavaLangStringBuffer_initWithInt_(length + 8);
    
#line 247
    if (i > 0) {
      (void) [result appendWithNSString:[name substring:0 endIndex:i]];
    }
    
#line 251
    for (; i < length; i++) {
      jchar c = [name charAtWithInt:i];
      if (c == dollarReplacementFirstChar && [name hasPrefix:self->dollarReplacement_ offset:i]) {
        i += ((jint) [self->dollarReplacement_ length]) - 1;
        (void) [result appendWithChar:'$'];
      }
      else
#line 256
      if (c == hexPrefixFirstChar && [name hasPrefix:self->hexPrefix_ offset:i]) {
        i += ((jint) [self->hexPrefix_ length]);
        c = (jchar) JavaLangInteger_parseIntWithNSString_withInt_([name substring:i endIndex:i + 4], 16);
        i += 3;
        (void) [result appendWithChar:c];
      }
      else
#line 261
      if (c == escapeReplacementFirstChar &&
#line 262
      [name hasPrefix:self->escapeCharReplacement_ offset:i]) {
        i += ((jint) [self->escapeCharReplacement_ length]) - 1;
        (void) [result appendWithChar:'_'];
      }
      else {
        
#line 266
        (void) [result appendWithChar:c];
      }
    }
    
#line 270
    s = [result description];
    (void) [self->unescapeCache_ putWithId:name withId:s];
  }
  return s;
}


#line 287
id ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_readResolve(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder *self) {
  self->escapeCache_ = [self createCacheMap];
  self->unescapeCache_ = [self createCacheMap];
  return self;
}


#line 307
jboolean ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_isXmlNameStartCharWithInt_(jint cp) {
  ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_initialize();
  
#line 308
  return ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_isInNameCharBoundsWithInt_withComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPairArray_(cp, ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_XML_NAME_START_CHAR_BOUNDS_);
}


#line 311
jboolean ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_isXmlNameCharWithInt_(jint cp) {
  ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_initialize();
  
#line 312
  if (ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_isXmlNameStartCharWithInt_(cp)) {
    return YES;
  }
  return ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_isInNameCharBoundsWithInt_withComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPairArray_(cp, ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_XML_NAME_CHAR_EXTRA_BOUNDS_);
}


#line 318
jboolean ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_isInNameCharBoundsWithInt_withComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPairArray_(jint cp, IOSObjectArray *nameCharBounds) {
  ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_initialize();
  
#line 319
  for (jint i = 0; i < ((IOSObjectArray *) nil_chk(nameCharBounds))->size_; ++i) {
    ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPair *p = IOSObjectArray_Get(nameCharBounds, i);
    if (cp >= ((ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPair *) nil_chk(p))->min_ && cp <= p->max_) {
      return YES;
    }
  }
  return NO;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder)


#line 52
@implementation ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_1IntPairList


#line 53
- (void)addWithInt:(jint)min
           withInt:(jint)max {
  [super addWithId:new_ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPair_initWithInt_withInt_(min, max)];
}


#line 57
- (void)addWithChar:(jchar)cp {
  [super addWithId:new_ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPair_initWithInt_withInt_(cp, cp)];
}

- (instancetype)init {
  ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_1IntPairList_init(self);
  return self;
}

- (NSUInteger)countByEnumeratingWithState:(NSFastEnumerationState *)state objects:(__unsafe_unretained id *)stackbuf count:(NSUInteger)len {
  return JreDefaultFastEnumeration(self, state, stackbuf, len);
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "addWithInt:withInt:", "add", "V", 0x0, NULL, NULL },
    { "addWithChar:", "add", "V", 0x0, NULL, NULL },
    { "init", NULL, NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcClassInfo _ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_1IntPairList = { 2, "IntPairList", "com.thoughtworks.xstream.io.xml", "XmlFriendlyNameCoder", 0x0, 3, methods, 0, NULL, 0, NULL, 0, NULL, NULL, NULL };
  return &_ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_1IntPairList;
}

@end

void ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_1IntPairList_init(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_1IntPairList *self) {
  (void) JavaUtilArrayList_init(self);
}

ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_1IntPairList *new_ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_1IntPairList_init() {
  ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_1IntPairList *self = [ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_1IntPairList alloc];
  ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_1IntPairList_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_1IntPairList)


#line 297
@implementation ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPair


#line 301
- (instancetype)initWithInt:(jint)min
                    withInt:(jint)max {
  ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPair_initWithInt_withInt_(self, min, max);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithInt:withInt:", "IntPair", NULL, 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "min_", NULL, 0x0, "I", NULL, NULL,  },
    { "max_", NULL, 0x0, "I", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPair = { 2, "IntPair", "com.thoughtworks.xstream.io.xml", "XmlFriendlyNameCoder", 0xa, 1, methods, 2, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPair;
}

@end


#line 301
void ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPair_initWithInt_withInt_(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPair *self, jint min, jint max) {
  (void) NSObject_init(self);
  
#line 302
  self->min_ = min;
  self->max_ = max;
}


#line 301
ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPair *new_ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPair_initWithInt_withInt_(jint min, jint max) {
  ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPair *self = [ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPair alloc];
  ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPair_initWithInt_withInt_(self, min, max);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComThoughtworksXstreamIoXmlXmlFriendlyNameCoder_IntPair)
