//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/Zetzsche/Development/SimarisCurves/com.thoughtworks.xstream/bin/src/com/thoughtworks/xstream/persistence/AbstractFilePersistenceStrategy.java
//


#line 1 "/Users/Zetzsche/Development/SimarisCurves/com.thoughtworks.xstream/bin/src/com/thoughtworks/xstream/persistence/AbstractFilePersistenceStrategy.java"

#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "com/thoughtworks/xstream/XStream.h"
#include "com/thoughtworks/xstream/converters/ConverterLookup.h"
#include "com/thoughtworks/xstream/io/StreamException.h"
#include "com/thoughtworks/xstream/mapper/Mapper.h"
#include "com/thoughtworks/xstream/persistence/AbstractFilePersistenceStrategy.h"
#include "java/io/File.h"
#include "java/io/FileInputStream.h"
#include "java/io/FileNotFoundException.h"
#include "java/io/FileOutputStream.h"
#include "java/io/FilenameFilter.h"
#include "java/io/IOException.h"
#include "java/io/InputStreamReader.h"
#include "java/io/OutputStreamWriter.h"
#include "java/io/Reader.h"
#include "java/io/Writer.h"
#include "java/lang/IllegalStateException.h"
#include "java/util/Iterator.h"
#include "java/util/Map.h"

@interface ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy () {
 @public
  id<JavaIoFilenameFilter> filter_;
  JavaIoFile *baseDirectory_;
  NSString *encoding_;
  ComThoughtworksXstreamXStream *xstream_;
}

- (void)writeFileWithJavaIoFile:(JavaIoFile *)file
                         withId:(id)value;

- (JavaIoFile *)getFileWithNSString:(NSString *)filename;

- (id)readFileWithJavaIoFile:(JavaIoFile *)file;

@end

J2OBJC_FIELD_SETTER(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy, filter_, id<JavaIoFilenameFilter>)
J2OBJC_FIELD_SETTER(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy, baseDirectory_, JavaIoFile *)
J2OBJC_FIELD_SETTER(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy, encoding_, NSString *)
J2OBJC_FIELD_SETTER(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy, xstream_, ComThoughtworksXstreamXStream *)

__attribute__((unused)) static void ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_writeFileWithJavaIoFile_withId_(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy *self, JavaIoFile *file, id value);

__attribute__((unused)) static JavaIoFile *ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_getFileWithNSString_(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy *self, NSString *filename);

__attribute__((unused)) static id ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_readFileWithJavaIoFile_(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy *self, JavaIoFile *file);

@interface ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_ValidFilenameFilter () {
 @public
  ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy *this$0_;
}

@end

J2OBJC_FIELD_SETTER(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_ValidFilenameFilter, this$0_, ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy *)

@interface ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator () {
 @public
  ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy *this$0_;
  IOSObjectArray *files_;
  jint position_;
  JavaIoFile *current_;
}

@end

J2OBJC_FIELD_SETTER(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator, this$0_, ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy *)
J2OBJC_FIELD_SETTER(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator, files_, IOSObjectArray *)
J2OBJC_FIELD_SETTER(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator, current_, JavaIoFile *)

@interface ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_$1 : NSObject < JavaUtilMap_Entry > {
 @public
  ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator *this$0_;
  JavaIoFile *file_;
  id key_;
}

- (id)getKey;

- (id)getValue;

- (id)setValueWithId:(id)value;

- (jboolean)isEqual:(id)obj;

- (instancetype)initWithComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator:(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator *)outer$;

@end

J2OBJC_EMPTY_STATIC_INIT(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_$1)

J2OBJC_FIELD_SETTER(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_$1, this$0_, ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator *)
J2OBJC_FIELD_SETTER(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_$1, file_, JavaIoFile *)
J2OBJC_FIELD_SETTER(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_$1, key_, id)

__attribute__((unused)) static void ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_$1_initWithComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_$1 *self, ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator *outer$);

__attribute__((unused)) static ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_$1 *new_ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_$1_initWithComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator *outer$) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_$1)


#line 40
@implementation ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy


#line 47
- (instancetype)initWithJavaIoFile:(JavaIoFile *)baseDirectory
 withComThoughtworksXstreamXStream:(ComThoughtworksXstreamXStream *)xstream
                      withNSString:(NSString *)encoding {
  ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_initWithJavaIoFile_withComThoughtworksXstreamXStream_withNSString_(self, baseDirectory, xstream, encoding);
  return self;
}


#line 55
- (id<ComThoughtworksXstreamConvertersConverterLookup>)getConverterLookup {
  return [((ComThoughtworksXstreamXStream *) nil_chk(xstream_)) getConverterLookup];
}

- (id<ComThoughtworksXstreamMapperMapper>)getMapper {
  return [((ComThoughtworksXstreamXStream *) nil_chk(xstream_)) getMapper];
}

- (jboolean)isValidWithJavaIoFile:(JavaIoFile *)dir
                     withNSString:(NSString *)name {
  return [((NSString *) nil_chk(name)) hasSuffix:@".xml"];
}


#line 73
- (id)extractKeyWithNSString:(NSString *)name {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}


#line 81
- (NSString *)getNameWithId:(id)key {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}


#line 141
- (void)writeFileWithJavaIoFile:(JavaIoFile *)file
                         withId:(id)value {
  ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_writeFileWithJavaIoFile_withId_(self, file, value);
}


#line 157
- (JavaIoFile *)getFileWithNSString:(NSString *)filename {
  return ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_getFileWithNSString_(self, filename);
}

- (id)readFileWithJavaIoFile:(JavaIoFile *)file {
  return ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_readFileWithJavaIoFile_(self, file);
}


#line 180
- (id)putWithId:(id)key
         withId:(id)value {
  id oldValue = [self getWithId:key];
  NSString *filename = [self getNameWithId:key];
  ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_writeFileWithJavaIoFile_withId_(self, new_JavaIoFile_initWithJavaIoFile_withNSString_(baseDirectory_, filename), value);
  return oldValue;
}


#line 187
- (id<JavaUtilIterator>)iterator {
  return new_ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_initWithComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_(self);
}

- (jint)size {
  return ((IOSObjectArray *) nil_chk([((JavaIoFile *) nil_chk(baseDirectory_)) listWithJavaIoFilenameFilter:filter_]))->size_;
}

- (jboolean)containsKeyWithId:(id)key {
  
#line 197
  JavaIoFile *file = ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_getFileWithNSString_(self, [self getNameWithId:key]);
  return [((JavaIoFile *) nil_chk(file)) isFile];
}


#line 201
- (id)getWithId:(id)key {
  return ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_readFileWithJavaIoFile_(self, ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_getFileWithNSString_(self, [self getNameWithId:key]));
}

- (id)removeWithId:(id)key {
  
#line 207
  JavaIoFile *file = ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_getFileWithNSString_(self, [self getNameWithId:key]);
  id value = nil;
  if ([((JavaIoFile *) nil_chk(file)) isFile]) {
    value = ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_readFileWithJavaIoFile_(self, file);
    [file delete__];
  }
  return value;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithJavaIoFile:withComThoughtworksXstreamXStream:withNSString:", "AbstractFilePersistenceStrategy", NULL, 0x1, NULL, NULL },
    { "getConverterLookup", NULL, "Lcom.thoughtworks.xstream.converters.ConverterLookup;", 0x4, NULL, NULL },
    { "getMapper", NULL, "Lcom.thoughtworks.xstream.mapper.Mapper;", 0x4, NULL, NULL },
    { "isValidWithJavaIoFile:withNSString:", "isValid", "Z", 0x4, NULL, NULL },
    { "extractKeyWithNSString:", "extractKey", "Ljava.lang.Object;", 0x404, NULL, NULL },
    { "getNameWithId:", "getName", "Ljava.lang.String;", 0x404, NULL, NULL },
    { "writeFileWithJavaIoFile:withId:", "writeFile", "V", 0x2, NULL, NULL },
    { "getFileWithNSString:", "getFile", "Ljava.io.File;", 0x2, NULL, NULL },
    { "readFileWithJavaIoFile:", "readFile", "Ljava.lang.Object;", 0x2, NULL, NULL },
    { "putWithId:withId:", "put", "Ljava.lang.Object;", 0x1, NULL, NULL },
    { "iterator", NULL, "Ljava.util.Iterator;", 0x1, NULL, NULL },
    { "size", NULL, "I", 0x1, NULL, NULL },
    { "containsKeyWithId:", "containsKey", "Z", 0x1, NULL, NULL },
    { "getWithId:", "get", "Ljava.lang.Object;", 0x1, NULL, NULL },
    { "removeWithId:", "remove", "Ljava.lang.Object;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "filter_", NULL, 0x12, "Ljava.io.FilenameFilter;", NULL, NULL,  },
    { "baseDirectory_", NULL, 0x12, "Ljava.io.File;", NULL, NULL,  },
    { "encoding_", NULL, 0x12, "Ljava.lang.String;", NULL, NULL,  },
    { "xstream_", NULL, 0x92, "Lcom.thoughtworks.xstream.XStream;", NULL, NULL,  },
  };
  static const char *inner_classes[] = {"Lcom.thoughtworks.xstream.persistence.AbstractFilePersistenceStrategy$ValidFilenameFilter;", "Lcom.thoughtworks.xstream.persistence.AbstractFilePersistenceStrategy$XmlMapEntriesIterator;"};
  static const J2ObjcClassInfo _ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy = { 2, "AbstractFilePersistenceStrategy", "com.thoughtworks.xstream.persistence", NULL, 0x401, 15, methods, 4, fields, 0, NULL, 2, inner_classes, NULL, NULL };
  return &_ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy;
}

@end


#line 47
void ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_initWithJavaIoFile_withComThoughtworksXstreamXStream_withNSString_(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy *self, JavaIoFile *baseDirectory, ComThoughtworksXstreamXStream *xstream, NSString *encoding) {
  (void) NSObject_init(self);
  self->baseDirectory_ = baseDirectory;
  self->xstream_ = xstream;
  self->encoding_ = encoding;
  self->filter_ = new_ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_ValidFilenameFilter_initWithComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_(self);
}


#line 141
void ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_writeFileWithJavaIoFile_withId_(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy *self, JavaIoFile *file, id value) {
  @try {
    JavaIoFileOutputStream *out = new_JavaIoFileOutputStream_initWithJavaIoFile_(file);
    JavaIoWriter *writer = self->encoding_ != nil ? new_JavaIoOutputStreamWriter_initWithJavaIoOutputStream_withNSString_(
#line 145
    out, self->encoding_) : new_JavaIoOutputStreamWriter_initWithJavaIoOutputStream_(
#line 146
    out);
    @try {
      [((ComThoughtworksXstreamXStream *) nil_chk(self->xstream_)) toXMLWithId:value withJavaIoWriter:writer];
    }
    @finally {
      
#line 150
      [writer close];
    }
  }
  @catch (
#line 152
  JavaIoIOException *e) {
    @throw new_ComThoughtworksXstreamIoStreamException_initWithJavaLangThrowable_(e);
  }
}


#line 157
JavaIoFile *ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_getFileWithNSString_(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy *self, NSString *filename) {
  return new_JavaIoFile_initWithJavaIoFile_withNSString_(self->baseDirectory_, filename);
}

id ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_readFileWithJavaIoFile_(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy *self, JavaIoFile *file) {
  @try {
    JavaIoFileInputStream *in = new_JavaIoFileInputStream_initWithJavaIoFile_(file);
    JavaIoReader *reader = self->encoding_ != nil ? new_JavaIoInputStreamReader_initWithJavaIoInputStream_withNSString_(
#line 165
    in, self->encoding_) : new_JavaIoInputStreamReader_initWithJavaIoInputStream_(
#line 166
    in);
    @try {
      return [((ComThoughtworksXstreamXStream *) nil_chk(self->xstream_)) fromXMLWithJavaIoReader:reader];
    }
    @finally {
      
#line 170
      [reader close];
    }
  }
  @catch (
#line 172
  JavaIoFileNotFoundException *e) {
    
#line 174
    return nil;
  }
  @catch (
#line 175
  JavaIoIOException *e) {
    @throw new_ComThoughtworksXstreamIoStreamException_initWithJavaLangThrowable_(e);
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy)


#line 83
@implementation ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_ValidFilenameFilter


#line 84
- (jboolean)acceptWithJavaIoFile:(JavaIoFile *)dir
                    withNSString:(NSString *)name {
  return [new_JavaIoFile_initWithJavaIoFile_withNSString_(dir, name) isFile] && [this$0_ isValidWithJavaIoFile:dir withNSString:name];
}

- (instancetype)initWithComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy:(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy *)outer$ {
  ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_ValidFilenameFilter_initWithComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_(self, outer$);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "acceptWithJavaIoFile:withNSString:", "accept", "Z", 0x1, NULL, NULL },
    { "initWithComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy:", "init", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lcom.thoughtworks.xstream.persistence.AbstractFilePersistenceStrategy;", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_ValidFilenameFilter = { 2, "ValidFilenameFilter", "com.thoughtworks.xstream.persistence", "AbstractFilePersistenceStrategy", 0x4, 2, methods, 1, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_ValidFilenameFilter;
}

@end

void ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_ValidFilenameFilter_initWithComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_ValidFilenameFilter *self, ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy *outer$) {
  self->this$0_ = outer$;
  (void) NSObject_init(self);
}

ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_ValidFilenameFilter *new_ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_ValidFilenameFilter_initWithComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy *outer$) {
  ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_ValidFilenameFilter *self = [ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_ValidFilenameFilter alloc];
  ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_ValidFilenameFilter_initWithComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_(self, outer$);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_ValidFilenameFilter)


#line 89
@implementation ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator


#line 97
- (jboolean)hasNext {
  return position_ + 1 < ((IOSObjectArray *) nil_chk(files_))->size_;
}

- (void)remove {
  if (current_ == nil) {
    @throw new_JavaLangIllegalStateException_init();
  }
  
#line 106
  [((JavaIoFile *) nil_chk(current_)) delete__];
}


#line 109
- (id)next {
  return new_ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_$1_initWithComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_(self);
}

- (instancetype)initWithComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy:(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy *)outer$ {
  ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_initWithComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_(self, outer$);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "hasNext", NULL, "Z", 0x1, NULL, NULL },
    { "remove", NULL, "V", 0x1, NULL, NULL },
    { "next", NULL, "Ljava.lang.Object;", 0x1, NULL, NULL },
    { "initWithComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy:", "init", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lcom.thoughtworks.xstream.persistence.AbstractFilePersistenceStrategy;", NULL, NULL,  },
    { "files_", NULL, 0x12, "[Ljava.io.File;", NULL, NULL,  },
    { "position_", NULL, 0x2, "I", NULL, NULL,  },
    { "current_", NULL, 0x2, "Ljava.io.File;", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator = { 2, "XmlMapEntriesIterator", "com.thoughtworks.xstream.persistence", "AbstractFilePersistenceStrategy", 0x4, 4, methods, 4, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator;
}

@end

void ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_initWithComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator *self, ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy *outer$) {
  self->this$0_ = outer$;
  (void) NSObject_init(self);
  self->files_ =
#line 91
  [((JavaIoFile *) nil_chk(outer$->baseDirectory_)) listFilesWithJavaIoFilenameFilter:outer$->filter_];
  self->position_ =
#line 93
  -1;
  self->current_ =
#line 95
  nil;
}

ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator *new_ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_initWithComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy *outer$) {
  ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator *self = [ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator alloc];
  ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_initWithComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_(self, outer$);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator)

@implementation ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_$1


#line 114
- (id)getKey {
  return key_;
}

- (id)getValue {
  return ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_readFileWithJavaIoFile_(this$0_->this$0_, file_);
}

- (id)setValueWithId:(id)value {
  return [this$0_->this$0_ putWithId:key_ withId:value];
}

- (jboolean)isEqual:(id)obj {
  if (!([JavaUtilMap_Entry_class_() isInstance:obj])) {
    return NO;
  }
  id value = [self getValue];
  id<JavaUtilMap_Entry> e2 = (id<JavaUtilMap_Entry>) check_protocol_cast(obj, @protocol(JavaUtilMap_Entry));
  id key2 = [((id<JavaUtilMap_Entry>) nil_chk(e2)) getKey];
  id value2 = [e2 getValue];
  return (key_ == nil ? key2 == nil : [key_ isEqual:key2]) &&
#line 135
  (value == nil ? value2 == nil : [nil_chk([self getValue]) isEqual:[e2 getValue]]);
}

- (instancetype)initWithComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator:(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator *)outer$ {
  ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_$1_initWithComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_(self, outer$);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "getKey", NULL, "Ljava.lang.Object;", 0x1, NULL, NULL },
    { "getValue", NULL, "Ljava.lang.Object;", 0x1, NULL, NULL },
    { "setValueWithId:", "setValue", "Ljava.lang.Object;", 0x1, NULL, NULL },
    { "isEqual:", "equals", "Z", 0x1, NULL, NULL },
    { "initWithComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lcom.thoughtworks.xstream.persistence.AbstractFilePersistenceStrategy$XmlMapEntriesIterator;", NULL, NULL,  },
    { "file_", NULL, 0x12, "Ljava.io.File;", NULL, NULL,  },
    { "key_", NULL, 0x12, "Ljava.lang.Object;", NULL, NULL,  },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator", "next" };
  static const J2ObjcClassInfo _ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_$1 = { 2, "", "com.thoughtworks.xstream.persistence", "AbstractFilePersistenceStrategy$XmlMapEntriesIterator", 0x8008, 5, methods, 3, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_$1;
}

@end

void ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_$1_initWithComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_$1 *self, ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator *outer$) {
  self->this$0_ = outer$;
  (void) NSObject_init(self);
  self->file_ =
#line 111
  outer$->current_ = IOSObjectArray_Get(nil_chk(outer$->files_), ++outer$->position_);
  self->key_ = [outer$->this$0_ extractKeyWithNSString:[self->file_ getName]];
}

ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_$1 *new_ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_$1_initWithComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator *outer$) {
  ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_$1 *self = [ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_$1 alloc];
  ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_$1_initWithComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_(self, outer$);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComThoughtworksXstreamPersistenceAbstractFilePersistenceStrategy_XmlMapEntriesIterator_$1)
