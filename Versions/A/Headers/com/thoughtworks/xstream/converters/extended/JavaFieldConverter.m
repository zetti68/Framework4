//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/Zetzsche/Development/SimarisCurves/com.thoughtworks.xstream/src/com/thoughtworks/xstream/converters/extended/JavaFieldConverter.java
//

#line 1 "/Users/Zetzsche/Development/SimarisCurves/com.thoughtworks.xstream/src/com/thoughtworks/xstream/converters/extended/JavaFieldConverter.java"

#include "IOSClass.h"
#include "com/thoughtworks/xstream/converters/ConversionException.h"
#include "com/thoughtworks/xstream/converters/MarshallingContext.h"
#include "com/thoughtworks/xstream/converters/SingleValueConverter.h"
#include "com/thoughtworks/xstream/converters/UnmarshallingContext.h"
#include "com/thoughtworks/xstream/converters/extended/JavaClassConverter.h"
#include "com/thoughtworks/xstream/converters/extended/JavaFieldConverter.h"
#include "com/thoughtworks/xstream/core/ClassLoaderReference.h"
#include "com/thoughtworks/xstream/io/HierarchicalStreamReader.h"
#include "com/thoughtworks/xstream/io/HierarchicalStreamWriter.h"
#include "com/thoughtworks/xstream/mapper/DefaultMapper.h"
#include "com/thoughtworks/xstream/mapper/Mapper.h"
#include "java/lang/ClassLoader.h"
#include "java/lang/NoSuchFieldException.h"
#include "java/lang/reflect/Field.h"


#line 31
@implementation ComThoughtworksXstreamConvertersExtendedJavaFieldConverter


#line 41
- (instancetype)initComThoughtworksXstreamConvertersExtendedJavaFieldConverterWithComThoughtworksXstreamCoreClassLoaderReference:(ComThoughtworksXstreamCoreClassLoaderReference *)classLoaderReference {
  return
#line 42
  [self initComThoughtworksXstreamConvertersExtendedJavaFieldConverterWithComThoughtworksXstreamConvertersSingleValueConverter:[[ComThoughtworksXstreamConvertersExtendedJavaClassConverter alloc] initWithComThoughtworksXstreamCoreClassLoaderReference:classLoaderReference] withComThoughtworksXstreamMapperMapper:[[ComThoughtworksXstreamMapperDefaultMapper alloc] initWithComThoughtworksXstreamCoreClassLoaderReference:classLoaderReference]];
}

- (instancetype)initWithComThoughtworksXstreamCoreClassLoaderReference:(ComThoughtworksXstreamCoreClassLoaderReference *)classLoaderReference {
  return [self initComThoughtworksXstreamConvertersExtendedJavaFieldConverterWithComThoughtworksXstreamCoreClassLoaderReference:
#line 41
classLoaderReference];
}


#line 48
- (instancetype)initWithJavaLangClassLoader:(JavaLangClassLoader *)classLoader {
  return
#line 49
  [self initComThoughtworksXstreamConvertersExtendedJavaFieldConverterWithComThoughtworksXstreamCoreClassLoaderReference:[[ComThoughtworksXstreamCoreClassLoaderReference alloc] initWithJavaLangClassLoader:classLoader]];
}


#line 58
- (instancetype)initComThoughtworksXstreamConvertersExtendedJavaFieldConverterWithComThoughtworksXstreamConvertersSingleValueConverter:(id<ComThoughtworksXstreamConvertersSingleValueConverter>)javaClassConverter
                                                                                                withComThoughtworksXstreamMapperMapper:(id<ComThoughtworksXstreamMapperMapper>)mapper {
  if (self = [super init]) {
    
#line 59
    self->javaClassConverter_ = javaClassConverter;
    
#line 60
    self->mapper_ = mapper;
  }
  return self;
}

- (instancetype)initWithComThoughtworksXstreamConvertersSingleValueConverter:(id<ComThoughtworksXstreamConvertersSingleValueConverter>)javaClassConverter
                                      withComThoughtworksXstreamMapperMapper:(id<ComThoughtworksXstreamMapperMapper>)mapper {
  return [self initComThoughtworksXstreamConvertersExtendedJavaFieldConverterWithComThoughtworksXstreamConvertersSingleValueConverter:
#line 58
javaClassConverter withComThoughtworksXstreamMapperMapper:mapper];
}


#line 63
- (jboolean)canConvertWithIOSClass:(IOSClass *)type {
  
#line 64
  return [((IOSClass *) nil_chk(type)) isEqual:[IOSClass classWithClass:[JavaLangReflectField class]]];
}


#line 67
- (void)marshalWithId:(id)source
withComThoughtworksXstreamIoHierarchicalStreamWriter:(id<ComThoughtworksXstreamIoHierarchicalStreamWriter>)writer
withComThoughtworksXstreamConvertersMarshallingContext:(id<ComThoughtworksXstreamConvertersMarshallingContext>)context {
  
#line 68
  JavaLangReflectField *field = (JavaLangReflectField *) check_class_cast(source, [JavaLangReflectField class]);
  IOSClass *type = [((JavaLangReflectField *) nil_chk(field)) getDeclaringClass];
  
#line 71
  [((id<ComThoughtworksXstreamIoHierarchicalStreamWriter>) nil_chk(writer)) startNodeWithNSString:@"name"];
  [writer setValueWithNSString:[((id<ComThoughtworksXstreamMapperMapper>) nil_chk(mapper_)) serializedMemberWithIOSClass:type withNSString:[field getName]]];
  [writer endNode];
  
#line 75
  [writer startNodeWithNSString:@"clazz"];
  [writer setValueWithNSString:[((id<ComThoughtworksXstreamConvertersSingleValueConverter>) nil_chk(javaClassConverter_)) toStringWithId:type]];
  [writer endNode];
}


#line 80
- (id)unmarshalWithComThoughtworksXstreamIoHierarchicalStreamReader:(id<ComThoughtworksXstreamIoHierarchicalStreamReader>)reader
           withComThoughtworksXstreamConvertersUnmarshallingContext:(id<ComThoughtworksXstreamConvertersUnmarshallingContext>)context {
  
#line 81
  NSString *methodName = nil;
  NSString *declaringClassName = nil;
  
#line 84
  while ((methodName == nil || declaringClassName == nil) && [((id<ComThoughtworksXstreamIoHierarchicalStreamReader>) nil_chk(reader)) hasMoreChildren]) {
    [((id<ComThoughtworksXstreamIoHierarchicalStreamReader>) nil_chk(reader)) moveDown];
    
#line 87
    if ([((NSString *) nil_chk([reader getNodeName])) isEqual:@"name"]) {
      methodName = [reader getValue];
    }
    else
#line 89
    if ([((NSString *) nil_chk([reader getNodeName])) isEqual:@"clazz"]) {
      declaringClassName = [reader getValue];
    }
    [reader moveUp];
  }
  
#line 95
  IOSClass *declaringClass = (IOSClass *) check_class_cast([((id<ComThoughtworksXstreamConvertersSingleValueConverter>) nil_chk(javaClassConverter_)) fromStringWithNSString:declaringClassName], [IOSClass class]);
  @try {
    return [((IOSClass *) nil_chk(declaringClass)) getDeclaredField:[((id<ComThoughtworksXstreamMapperMapper>) nil_chk(mapper_)) realMemberWithIOSClass:declaringClass withNSString:methodName]];
  }
  @catch (
#line 98
  JavaLangNoSuchFieldException *e) {
    @throw [[ComThoughtworksXstreamConvertersConversionException alloc] initWithJavaLangThrowable:e];
  }
}

- (void)copyAllFieldsTo:(ComThoughtworksXstreamConvertersExtendedJavaFieldConverter *)other {
  [super copyAllFieldsTo:other];
  other->javaClassConverter_ = javaClassConverter_;
  other->mapper_ = mapper_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithComThoughtworksXstreamCoreClassLoaderReference:", "JavaFieldConverter", NULL, 0x1, NULL },
    { "initWithJavaLangClassLoader:", "JavaFieldConverter", NULL, 0x1, NULL },
    { "initWithComThoughtworksXstreamConvertersSingleValueConverter:withComThoughtworksXstreamMapperMapper:", "JavaFieldConverter", NULL, 0x4, NULL },
    { "canConvertWithIOSClass:", "canConvert", "Z", 0x1, NULL },
    { "marshalWithId:withComThoughtworksXstreamIoHierarchicalStreamWriter:withComThoughtworksXstreamConvertersMarshallingContext:", "marshal", "V", 0x1, NULL },
    { "unmarshalWithComThoughtworksXstreamIoHierarchicalStreamReader:withComThoughtworksXstreamConvertersUnmarshallingContext:", "unmarshal", "Ljava.lang.Object;", 0x1, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "javaClassConverter_", NULL, 0x12, "Lcom.thoughtworks.xstream.converters.SingleValueConverter;", NULL,  },
    { "mapper_", NULL, 0x12, "Lcom.thoughtworks.xstream.mapper.Mapper;", NULL,  },
  };
  static const J2ObjcClassInfo _ComThoughtworksXstreamConvertersExtendedJavaFieldConverter = { "JavaFieldConverter", "com.thoughtworks.xstream.converters.extended", NULL, 0x1, 6, methods, 2, fields, 0, NULL};
  return &_ComThoughtworksXstreamConvertersExtendedJavaFieldConverter;
}

@end
