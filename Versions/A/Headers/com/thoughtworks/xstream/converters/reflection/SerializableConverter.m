//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/Zetzsche/Development/SimarisCurves/com.thoughtworks.xstream/bin/src/com/thoughtworks/xstream/converters/reflection/SerializableConverter.java
//


#line 1 "/Users/Zetzsche/Development/SimarisCurves/com.thoughtworks.xstream/bin/src/com/thoughtworks/xstream/converters/reflection/SerializableConverter.java"

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "com/thoughtworks/xstream/converters/ConversionException.h"
#include "com/thoughtworks/xstream/converters/MarshallingContext.h"
#include "com/thoughtworks/xstream/converters/UnmarshallingContext.h"
#include "com/thoughtworks/xstream/converters/reflection/AbstractReflectionConverter.h"
#include "com/thoughtworks/xstream/converters/reflection/MissingFieldException.h"
#include "com/thoughtworks/xstream/converters/reflection/ObjectAccessException.h"
#include "com/thoughtworks/xstream/converters/reflection/ReflectionProvider.h"
#include "com/thoughtworks/xstream/converters/reflection/ReflectionProviderWrapper.h"
#include "com/thoughtworks/xstream/converters/reflection/SerializableConverter.h"
#include "com/thoughtworks/xstream/converters/reflection/SerializationMethodInvoker.h"
#include "com/thoughtworks/xstream/core/ClassLoaderReference.h"
#include "com/thoughtworks/xstream/core/JVM.h"
#include "com/thoughtworks/xstream/core/util/CustomObjectInputStream.h"
#include "com/thoughtworks/xstream/core/util/CustomObjectOutputStream.h"
#include "com/thoughtworks/xstream/core/util/HierarchicalStreams.h"
#include "com/thoughtworks/xstream/io/ExtendedHierarchicalStreamWriterHelper.h"
#include "com/thoughtworks/xstream/io/HierarchicalStreamReader.h"
#include "com/thoughtworks/xstream/io/HierarchicalStreamWriter.h"
#include "com/thoughtworks/xstream/mapper/Mapper.h"
#include "java/io/IOException.h"
#include "java/io/InvalidObjectException.h"
#include "java/io/ObjectInputValidation.h"
#include "java/io/ObjectStreamClass.h"
#include "java/io/ObjectStreamField.h"
#include "java/io/Serializable.h"
#include "java/lang/ClassLoader.h"
#include "java/lang/IllegalAccessException.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/NoSuchFieldException.h"
#include "java/lang/Runnable.h"
#include "java/lang/SecurityException.h"
#include "java/lang/UnsupportedOperationException.h"
#include "java/lang/reflect/Field.h"
#include "java/util/ArrayList.h"
#include "java/util/Collections.h"
#include "java/util/HashMap.h"
#include "java/util/Iterator.h"
#include "java/util/List.h"
#include "java/util/Map.h"
#include "java/util/Set.h"

@interface ComThoughtworksXstreamConvertersReflectionSerializableConverter () {
 @public
  ComThoughtworksXstreamCoreClassLoaderReference *classLoaderReference_;
}

- (jboolean)isSerializableWithIOSClass:(IOSClass *)type;

- (id)readFieldWithJavaIoObjectStreamField:(JavaIoObjectStreamField *)field
                              withIOSClass:(IOSClass *)type
                                    withId:(id)instance;

@end

J2OBJC_FIELD_SETTER(ComThoughtworksXstreamConvertersReflectionSerializableConverter, classLoaderReference_, ComThoughtworksXstreamCoreClassLoaderReference *)

static NSString *ComThoughtworksXstreamConvertersReflectionSerializableConverter_ELEMENT_NULL_ = 
#line 64
@"null";
J2OBJC_STATIC_FIELD_GETTER(ComThoughtworksXstreamConvertersReflectionSerializableConverter, ELEMENT_NULL_, NSString *)

static NSString *ComThoughtworksXstreamConvertersReflectionSerializableConverter_ELEMENT_DEFAULT_ = 
#line 65
@"default";
J2OBJC_STATIC_FIELD_GETTER(ComThoughtworksXstreamConvertersReflectionSerializableConverter, ELEMENT_DEFAULT_, NSString *)

static NSString *ComThoughtworksXstreamConvertersReflectionSerializableConverter_ELEMENT_UNSERIALIZABLE_PARENTS_ = 
#line 66
@"unserializable-parents";
J2OBJC_STATIC_FIELD_GETTER(ComThoughtworksXstreamConvertersReflectionSerializableConverter, ELEMENT_UNSERIALIZABLE_PARENTS_, NSString *)

static NSString *ComThoughtworksXstreamConvertersReflectionSerializableConverter_ATTRIBUTE_CLASS_ = 
#line 67
@"class";
J2OBJC_STATIC_FIELD_GETTER(ComThoughtworksXstreamConvertersReflectionSerializableConverter, ATTRIBUTE_CLASS_, NSString *)

static NSString *ComThoughtworksXstreamConvertersReflectionSerializableConverter_ATTRIBUTE_SERIALIZATION_ = 
#line 68
@"serialization";
J2OBJC_STATIC_FIELD_GETTER(ComThoughtworksXstreamConvertersReflectionSerializableConverter, ATTRIBUTE_SERIALIZATION_, NSString *)

static NSString *ComThoughtworksXstreamConvertersReflectionSerializableConverter_ATTRIBUTE_VALUE_CUSTOM_ = 
#line 69
@"custom";
J2OBJC_STATIC_FIELD_GETTER(ComThoughtworksXstreamConvertersReflectionSerializableConverter, ATTRIBUTE_VALUE_CUSTOM_, NSString *)

static NSString *ComThoughtworksXstreamConvertersReflectionSerializableConverter_ELEMENT_FIELDS_ = 
#line 70
@"fields";
J2OBJC_STATIC_FIELD_GETTER(ComThoughtworksXstreamConvertersReflectionSerializableConverter, ELEMENT_FIELDS_, NSString *)

static NSString *ComThoughtworksXstreamConvertersReflectionSerializableConverter_ELEMENT_FIELD_ = 
#line 71
@"field";
J2OBJC_STATIC_FIELD_GETTER(ComThoughtworksXstreamConvertersReflectionSerializableConverter, ELEMENT_FIELD_, NSString *)

static NSString *ComThoughtworksXstreamConvertersReflectionSerializableConverter_ATTRIBUTE_NAME_ = 
#line 72
@"name";
J2OBJC_STATIC_FIELD_GETTER(ComThoughtworksXstreamConvertersReflectionSerializableConverter, ATTRIBUTE_NAME_, NSString *)

__attribute__((unused)) static jboolean ComThoughtworksXstreamConvertersReflectionSerializableConverter_isSerializableWithIOSClass_(ComThoughtworksXstreamConvertersReflectionSerializableConverter *self, IOSClass *type);

__attribute__((unused)) static id ComThoughtworksXstreamConvertersReflectionSerializableConverter_readFieldWithJavaIoObjectStreamField_withIOSClass_withId_(ComThoughtworksXstreamConvertersReflectionSerializableConverter *self, JavaIoObjectStreamField *field, IOSClass *type, id instance);

@interface ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider : ComThoughtworksXstreamConvertersReflectionReflectionProviderWrapper

- (instancetype)initWithComThoughtworksXstreamConvertersReflectionReflectionProvider:(id<ComThoughtworksXstreamConvertersReflectionReflectionProvider>)reflectionProvider;

- (void)visitSerializableFieldsWithId:(id)object
withComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor:(id<ComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor>)visitor;

@end

J2OBJC_EMPTY_STATIC_INIT(ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider)

__attribute__((unused)) static void ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_initWithComThoughtworksXstreamConvertersReflectionReflectionProvider_(ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider *self, id<ComThoughtworksXstreamConvertersReflectionReflectionProvider> reflectionProvider);

__attribute__((unused)) static ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider *new_ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_initWithComThoughtworksXstreamConvertersReflectionReflectionProvider_(id<ComThoughtworksXstreamConvertersReflectionReflectionProvider> reflectionProvider) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider)

@interface ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_$1 : NSObject < ComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor > {
 @public
  id<ComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor> val$visitor_;
}

- (void)visitWithNSString:(NSString *)name
             withIOSClass:(IOSClass *)type
             withIOSClass:(IOSClass *)definedIn
                   withId:(id)value;

- (instancetype)initWithComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor:(id<ComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor>)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_$1)

J2OBJC_FIELD_SETTER(ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_$1, val$visitor_, id<ComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor>)

__attribute__((unused)) static void ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_$1_initWithComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor_(ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_$1 *self, id<ComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor> capture$0);

__attribute__((unused)) static ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_$1 *new_ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_$1_initWithComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor_(id<ComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor> capture$0) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_$1)

@interface ComThoughtworksXstreamConvertersReflectionSerializableConverter_$1 : NSObject < ComThoughtworksXstreamCoreUtilCustomObjectOutputStream_StreamCallback > {
 @public
  ComThoughtworksXstreamConvertersReflectionSerializableConverter *this$0_;
  id<ComThoughtworksXstreamIoHierarchicalStreamWriter> val$writer_;
  id<ComThoughtworksXstreamConvertersMarshallingContext> val$context_;
  IOSObjectArray *val$currentType_;
  id val$source_;
  IOSBooleanArray *val$writtenClassWrapper_;
}

- (void)writeToStreamWithId:(id)object;

- (void)writeFieldsToStreamWithJavaUtilMap:(id<JavaUtilMap>)fields;

- (void)defaultWriteObject;

- (void)flush;

- (void)close;

- (instancetype)initWithComThoughtworksXstreamConvertersReflectionSerializableConverter:(ComThoughtworksXstreamConvertersReflectionSerializableConverter *)outer$
                                   withComThoughtworksXstreamIoHierarchicalStreamWriter:(id<ComThoughtworksXstreamIoHierarchicalStreamWriter>)capture$0
                                 withComThoughtworksXstreamConvertersMarshallingContext:(id<ComThoughtworksXstreamConvertersMarshallingContext>)capture$1
                                                                      withIOSClassArray:(IOSObjectArray *)capture$2
                                                                                 withId:(id)capture$3
                                                                       withBooleanArray:(IOSBooleanArray *)capture$4;

@end

J2OBJC_EMPTY_STATIC_INIT(ComThoughtworksXstreamConvertersReflectionSerializableConverter_$1)

J2OBJC_FIELD_SETTER(ComThoughtworksXstreamConvertersReflectionSerializableConverter_$1, this$0_, ComThoughtworksXstreamConvertersReflectionSerializableConverter *)
J2OBJC_FIELD_SETTER(ComThoughtworksXstreamConvertersReflectionSerializableConverter_$1, val$writer_, id<ComThoughtworksXstreamIoHierarchicalStreamWriter>)
J2OBJC_FIELD_SETTER(ComThoughtworksXstreamConvertersReflectionSerializableConverter_$1, val$context_, id<ComThoughtworksXstreamConvertersMarshallingContext>)
J2OBJC_FIELD_SETTER(ComThoughtworksXstreamConvertersReflectionSerializableConverter_$1, val$currentType_, IOSObjectArray *)
J2OBJC_FIELD_SETTER(ComThoughtworksXstreamConvertersReflectionSerializableConverter_$1, val$source_, id)
J2OBJC_FIELD_SETTER(ComThoughtworksXstreamConvertersReflectionSerializableConverter_$1, val$writtenClassWrapper_, IOSBooleanArray *)

__attribute__((unused)) static void ComThoughtworksXstreamConvertersReflectionSerializableConverter_$1_initWithComThoughtworksXstreamConvertersReflectionSerializableConverter_withComThoughtworksXstreamIoHierarchicalStreamWriter_withComThoughtworksXstreamConvertersMarshallingContext_withIOSClassArray_withId_withBooleanArray_(ComThoughtworksXstreamConvertersReflectionSerializableConverter_$1 *self, ComThoughtworksXstreamConvertersReflectionSerializableConverter *outer$, id<ComThoughtworksXstreamIoHierarchicalStreamWriter> capture$0, id<ComThoughtworksXstreamConvertersMarshallingContext> capture$1, IOSObjectArray *capture$2, id capture$3, IOSBooleanArray *capture$4);

__attribute__((unused)) static ComThoughtworksXstreamConvertersReflectionSerializableConverter_$1 *new_ComThoughtworksXstreamConvertersReflectionSerializableConverter_$1_initWithComThoughtworksXstreamConvertersReflectionSerializableConverter_withComThoughtworksXstreamIoHierarchicalStreamWriter_withComThoughtworksXstreamConvertersMarshallingContext_withIOSClassArray_withId_withBooleanArray_(ComThoughtworksXstreamConvertersReflectionSerializableConverter *outer$, id<ComThoughtworksXstreamIoHierarchicalStreamWriter> capture$0, id<ComThoughtworksXstreamConvertersMarshallingContext> capture$1, IOSObjectArray *capture$2, id capture$3, IOSBooleanArray *capture$4) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ComThoughtworksXstreamConvertersReflectionSerializableConverter_$1)

@interface ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2 : NSObject < ComThoughtworksXstreamCoreUtilCustomObjectInputStream_StreamCallback > {
 @public
  ComThoughtworksXstreamConvertersReflectionSerializableConverter *this$0_;
  id<ComThoughtworksXstreamIoHierarchicalStreamReader> val$reader_;
  id<ComThoughtworksXstreamConvertersUnmarshallingContext> val$context_;
  id val$result_;
  IOSObjectArray *val$currentType_;
}

- (id)readFromStream;

- (id<JavaUtilMap>)readFieldsFromStream;

- (void)defaultReadObject;

- (void)registerValidationWithJavaIoObjectInputValidation:(id<JavaIoObjectInputValidation>)validation
                                                  withInt:(jint)priority;

- (void)close;

- (instancetype)initWithComThoughtworksXstreamConvertersReflectionSerializableConverter:(ComThoughtworksXstreamConvertersReflectionSerializableConverter *)outer$
                                   withComThoughtworksXstreamIoHierarchicalStreamReader:(id<ComThoughtworksXstreamIoHierarchicalStreamReader>)capture$0
                               withComThoughtworksXstreamConvertersUnmarshallingContext:(id<ComThoughtworksXstreamConvertersUnmarshallingContext>)capture$1
                                                                                 withId:(id)capture$2
                                                                      withIOSClassArray:(IOSObjectArray *)capture$3;

@end

J2OBJC_EMPTY_STATIC_INIT(ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2)

J2OBJC_FIELD_SETTER(ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2, this$0_, ComThoughtworksXstreamConvertersReflectionSerializableConverter *)
J2OBJC_FIELD_SETTER(ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2, val$reader_, id<ComThoughtworksXstreamIoHierarchicalStreamReader>)
J2OBJC_FIELD_SETTER(ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2, val$context_, id<ComThoughtworksXstreamConvertersUnmarshallingContext>)
J2OBJC_FIELD_SETTER(ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2, val$result_, id)
J2OBJC_FIELD_SETTER(ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2, val$currentType_, IOSObjectArray *)

__attribute__((unused)) static void ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_initWithComThoughtworksXstreamConvertersReflectionSerializableConverter_withComThoughtworksXstreamIoHierarchicalStreamReader_withComThoughtworksXstreamConvertersUnmarshallingContext_withId_withIOSClassArray_(ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2 *self, ComThoughtworksXstreamConvertersReflectionSerializableConverter *outer$, id<ComThoughtworksXstreamIoHierarchicalStreamReader> capture$0, id<ComThoughtworksXstreamConvertersUnmarshallingContext> capture$1, id capture$2, IOSObjectArray *capture$3);

__attribute__((unused)) static ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2 *new_ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_initWithComThoughtworksXstreamConvertersReflectionSerializableConverter_withComThoughtworksXstreamIoHierarchicalStreamReader_withComThoughtworksXstreamConvertersUnmarshallingContext_withId_withIOSClassArray_(ComThoughtworksXstreamConvertersReflectionSerializableConverter *outer$, id<ComThoughtworksXstreamIoHierarchicalStreamReader> capture$0, id<ComThoughtworksXstreamConvertersUnmarshallingContext> capture$1, id capture$2, IOSObjectArray *capture$3) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2)

@interface ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_$1 : NSObject < JavaLangRunnable > {
 @public
  id<JavaIoObjectInputValidation> val$validation_;
}

- (void)run;

- (instancetype)initWithJavaIoObjectInputValidation:(id<JavaIoObjectInputValidation>)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_$1)

J2OBJC_FIELD_SETTER(ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_$1, val$validation_, id<JavaIoObjectInputValidation>)

__attribute__((unused)) static void ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_$1_initWithJavaIoObjectInputValidation_(ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_$1 *self, id<JavaIoObjectInputValidation> capture$0);

__attribute__((unused)) static ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_$1 *new_ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_$1_initWithJavaIoObjectInputValidation_(id<JavaIoObjectInputValidation> capture$0) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_$1)


#line 62
@implementation ComThoughtworksXstreamConvertersReflectionSerializableConverter


#line 83
- (instancetype)initWithComThoughtworksXstreamMapperMapper:(id<ComThoughtworksXstreamMapperMapper>)mapper
withComThoughtworksXstreamConvertersReflectionReflectionProvider:(id<ComThoughtworksXstreamConvertersReflectionReflectionProvider>)reflectionProvider
        withComThoughtworksXstreamCoreClassLoaderReference:(ComThoughtworksXstreamCoreClassLoaderReference *)classLoaderReference {
  ComThoughtworksXstreamConvertersReflectionSerializableConverter_initWithComThoughtworksXstreamMapperMapper_withComThoughtworksXstreamConvertersReflectionReflectionProvider_withComThoughtworksXstreamCoreClassLoaderReference_(self, mapper, reflectionProvider, classLoaderReference);
  return self;
}


#line 91
- (instancetype)initWithComThoughtworksXstreamMapperMapper:(id<ComThoughtworksXstreamMapperMapper>)mapper
withComThoughtworksXstreamConvertersReflectionReflectionProvider:(id<ComThoughtworksXstreamConvertersReflectionReflectionProvider>)reflectionProvider
                                   withJavaLangClassLoader:(JavaLangClassLoader *)classLoader {
  ComThoughtworksXstreamConvertersReflectionSerializableConverter_initWithComThoughtworksXstreamMapperMapper_withComThoughtworksXstreamConvertersReflectionReflectionProvider_withJavaLangClassLoader_(self, mapper, reflectionProvider, classLoader);
  return self;
}

- (instancetype)initWithComThoughtworksXstreamMapperMapper:(id<ComThoughtworksXstreamMapperMapper>)mapper
withComThoughtworksXstreamConvertersReflectionReflectionProvider:(id<ComThoughtworksXstreamConvertersReflectionReflectionProvider>)reflectionProvider {
  ComThoughtworksXstreamConvertersReflectionSerializableConverter_initWithComThoughtworksXstreamMapperMapper_withComThoughtworksXstreamConvertersReflectionReflectionProvider_(self, mapper, reflectionProvider);
  return self;
}


#line 102
- (jboolean)canConvertWithIOSClass:(IOSClass *)type {
  return ComThoughtworksXstreamCoreJVM_canCreateDerivedObjectOutputStream() && ComThoughtworksXstreamConvertersReflectionSerializableConverter_isSerializableWithIOSClass_(self, type);
}

- (jboolean)isSerializableWithIOSClass:(IOSClass *)type {
  return ComThoughtworksXstreamConvertersReflectionSerializableConverter_isSerializableWithIOSClass_(self, type);
}


#line 122
- (void)doMarshalWithId:(id)source
withComThoughtworksXstreamIoHierarchicalStreamWriter:(id<ComThoughtworksXstreamIoHierarchicalStreamWriter>)writer
withComThoughtworksXstreamConvertersMarshallingContext:(id<ComThoughtworksXstreamConvertersMarshallingContext>)context {
  NSString *attributeName = [((id<ComThoughtworksXstreamMapperMapper>) nil_chk(mapper_)) aliasForSystemAttributeWithNSString:ComThoughtworksXstreamConvertersReflectionSerializableConverter_ATTRIBUTE_SERIALIZATION_];
  if (attributeName != nil) {
    [((id<ComThoughtworksXstreamIoHierarchicalStreamWriter>) nil_chk(writer)) addAttributeWithNSString:attributeName withNSString:ComThoughtworksXstreamConvertersReflectionSerializableConverter_ATTRIBUTE_VALUE_CUSTOM_];
  }
  
#line 129
  IOSObjectArray *currentType = [IOSObjectArray newArrayWithLength:1 type:IOSClass_class_()];
  IOSBooleanArray *writtenClassWrapper = [IOSBooleanArray newArrayWithBooleans:(jboolean[]){ NO } count:1];
  
#line 132
  id<ComThoughtworksXstreamCoreUtilCustomObjectOutputStream_StreamCallback> callback = new_ComThoughtworksXstreamConvertersReflectionSerializableConverter_$1_initWithComThoughtworksXstreamConvertersReflectionSerializableConverter_withComThoughtworksXstreamIoHierarchicalStreamWriter_withComThoughtworksXstreamConvertersMarshallingContext_withIOSClassArray_withId_withBooleanArray_(self, writer, context, currentType, source, writtenClassWrapper);
  
#line 236
  @try {
    jboolean mustHandleUnserializableParent = NO;
    id<JavaUtilIterator> classHieararchy = [((id<JavaUtilList>) nil_chk([self hierarchyForWithIOSClass:[nil_chk(source) getClass]])) iterator];
    while ([((id<JavaUtilIterator>) nil_chk(classHieararchy)) hasNext]) {
      (void) IOSObjectArray_Set(currentType, 0, (IOSClass *) check_class_cast([classHieararchy next], [IOSClass class]));
      if (![JavaIoSerializable_class_() isAssignableFrom:IOSObjectArray_Get(currentType, 0)]) {
        mustHandleUnserializableParent = YES;
        continue;
      }
      else {
        
#line 245
        if (mustHandleUnserializableParent) {
          [self marshalUnserializableParentWithComThoughtworksXstreamIoHierarchicalStreamWriter:writer withComThoughtworksXstreamConvertersMarshallingContext:context withId:source];
          mustHandleUnserializableParent = NO;
        }
        if ([((ComThoughtworksXstreamConvertersReflectionSerializationMethodInvoker *) nil_chk(serializationMethodInvoker_)) supportsWriteObjectWithIOSClass:IOSObjectArray_Get(currentType, 0) withBoolean:NO]) {
          *IOSBooleanArray_GetRef(writtenClassWrapper, 0) = YES;
          [((id<ComThoughtworksXstreamIoHierarchicalStreamWriter>) nil_chk(writer)) startNodeWithNSString:[mapper_ serializedClassWithIOSClass:IOSObjectArray_Get(currentType, 0)]];
          if (IOSObjectArray_Get(currentType, 0) != [mapper_ defaultImplementationOfWithIOSClass:IOSObjectArray_Get(currentType, 0)]) {
            NSString *classAttributeName = [mapper_ aliasForSystemAttributeWithNSString:ComThoughtworksXstreamConvertersReflectionSerializableConverter_ATTRIBUTE_CLASS_];
            if (classAttributeName != nil) {
              [writer addAttributeWithNSString:classAttributeName withNSString:[((IOSClass *) nil_chk(IOSObjectArray_Get(currentType, 0))) getName]];
            }
          }
          ComThoughtworksXstreamCoreUtilCustomObjectOutputStream *objectOutputStream = ComThoughtworksXstreamCoreUtilCustomObjectOutputStream_getInstanceWithComThoughtworksXstreamConvertersDataHolder_withComThoughtworksXstreamCoreUtilCustomObjectOutputStream_StreamCallback_(context, callback);
          [serializationMethodInvoker_ callWriteObjectWithIOSClass:IOSObjectArray_Get(currentType, 0) withId:source withJavaIoObjectOutputStream:objectOutputStream];
          (void) [((ComThoughtworksXstreamCoreUtilCustomObjectOutputStream *) nil_chk(objectOutputStream)) popCallback];
          [writer endNode];
        }
        else
#line 262
        if ([serializationMethodInvoker_ supportsReadObjectWithIOSClass:IOSObjectArray_Get(currentType, 0) withBoolean:NO]) {
          
#line 266
          *IOSBooleanArray_GetRef(writtenClassWrapper, 0) = YES;
          [((id<ComThoughtworksXstreamIoHierarchicalStreamWriter>) nil_chk(writer)) startNodeWithNSString:[mapper_ serializedClassWithIOSClass:IOSObjectArray_Get(currentType, 0)]];
          if (IOSObjectArray_Get(currentType, 0) != [mapper_ defaultImplementationOfWithIOSClass:IOSObjectArray_Get(currentType, 0)]) {
            NSString *classAttributeName = [mapper_ aliasForSystemAttributeWithNSString:ComThoughtworksXstreamConvertersReflectionSerializableConverter_ATTRIBUTE_CLASS_];
            if (classAttributeName != nil) {
              [writer addAttributeWithNSString:classAttributeName withNSString:[((IOSClass *) nil_chk(IOSObjectArray_Get(currentType, 0))) getName]];
            }
          }
          [callback defaultWriteObject];
          [writer endNode];
        }
        else {
          
#line 277
          *IOSBooleanArray_GetRef(writtenClassWrapper, 0) = NO;
          [callback defaultWriteObject];
          if (IOSBooleanArray_Get(writtenClassWrapper, 0)) {
            [((id<ComThoughtworksXstreamIoHierarchicalStreamWriter>) nil_chk(writer)) endNode];
          }
        }
      }
    }
  }
  @catch (
#line 285
  JavaIoIOException *e) {
    @throw new_ComThoughtworksXstreamConvertersReflectionObjectAccessException_initWithNSString_withJavaLangThrowable_(@"Could not call defaultWriteObject()", e);
  }
}


#line 290
- (void)marshalUnserializableParentWithComThoughtworksXstreamIoHierarchicalStreamWriter:(id<ComThoughtworksXstreamIoHierarchicalStreamWriter>)writer
                                 withComThoughtworksXstreamConvertersMarshallingContext:(id<ComThoughtworksXstreamConvertersMarshallingContext>)context
                                                                                 withId:(id)replacedSource {
  [((id<ComThoughtworksXstreamIoHierarchicalStreamWriter>) nil_chk(writer)) startNodeWithNSString:ComThoughtworksXstreamConvertersReflectionSerializableConverter_ELEMENT_UNSERIALIZABLE_PARENTS_];
  [super doMarshalWithId:replacedSource withComThoughtworksXstreamIoHierarchicalStreamWriter:writer withComThoughtworksXstreamConvertersMarshallingContext:context];
  [writer endNode];
}


#line 296
- (id)readFieldWithJavaIoObjectStreamField:(JavaIoObjectStreamField *)field
                              withIOSClass:(IOSClass *)type
                                    withId:(id)instance {
  return ComThoughtworksXstreamConvertersReflectionSerializableConverter_readFieldWithJavaIoObjectStreamField_withIOSClass_withId_(self, field, type, instance);
}


#line 314
- (id<JavaUtilList>)hierarchyForWithIOSClass:(IOSClass *)type {
  id<JavaUtilList> result = new_JavaUtilArrayList_init();
  while (type != NSObject_class_() && type != nil) {
    [result addWithId:type];
    type = [((IOSClass *) nil_chk(type)) getSuperclass];
  }
  
#line 322
  JavaUtilCollections_reverseWithJavaUtilList_(result);
  
#line 324
  return result;
}


#line 327
- (id)doUnmarshalWithId:(id)result
withComThoughtworksXstreamIoHierarchicalStreamReader:(id<ComThoughtworksXstreamIoHierarchicalStreamReader>)reader
withComThoughtworksXstreamConvertersUnmarshallingContext:(id<ComThoughtworksXstreamConvertersUnmarshallingContext>)context {
  
#line 329
  IOSObjectArray *currentType = [IOSObjectArray newArrayWithLength:1 type:IOSClass_class_()];
  
#line 331
  NSString *attributeName = [((id<ComThoughtworksXstreamMapperMapper>) nil_chk(mapper_)) aliasForSystemAttributeWithNSString:ComThoughtworksXstreamConvertersReflectionSerializableConverter_ATTRIBUTE_SERIALIZATION_];
  if (attributeName != nil && ![((NSString *) nil_chk(ComThoughtworksXstreamConvertersReflectionSerializableConverter_ATTRIBUTE_VALUE_CUSTOM_)) isEqual:[((id<ComThoughtworksXstreamIoHierarchicalStreamReader>) nil_chk(reader)) getAttributeWithNSString:attributeName]]) {
    @throw new_ComThoughtworksXstreamConvertersConversionException_initWithNSString_(@"Cannot deserialize object with new readObject()/writeObject() methods");
  }
  
#line 336
  id<ComThoughtworksXstreamCoreUtilCustomObjectInputStream_StreamCallback> callback = new_ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_initWithComThoughtworksXstreamConvertersReflectionSerializableConverter_withComThoughtworksXstreamIoHierarchicalStreamReader_withComThoughtworksXstreamConvertersUnmarshallingContext_withId_withIOSClassArray_(self, reader, context, result, currentType);
  
#line 439
  while ([((id<ComThoughtworksXstreamIoHierarchicalStreamReader>) nil_chk(reader)) hasMoreChildren]) {
    [reader moveDown];
    NSString *nodeName = [reader getNodeName];
    if ([((NSString *) nil_chk(nodeName)) isEqual:ComThoughtworksXstreamConvertersReflectionSerializableConverter_ELEMENT_UNSERIALIZABLE_PARENTS_]) {
      (void) [super doUnmarshalWithId:result withComThoughtworksXstreamIoHierarchicalStreamReader:reader withComThoughtworksXstreamConvertersUnmarshallingContext:context];
    }
    else {
      
#line 445
      NSString *classAttribute = ComThoughtworksXstreamCoreUtilHierarchicalStreams_readClassAttributeWithComThoughtworksXstreamIoHierarchicalStreamReader_withComThoughtworksXstreamMapperMapper_(reader, mapper_);
      if (classAttribute == nil) {
        (void) IOSObjectArray_Set(currentType, 0, [mapper_ defaultImplementationOfWithIOSClass:[mapper_ realClassWithNSString:nodeName]]);
      }
      else {
        
#line 449
        (void) IOSObjectArray_Set(currentType, 0, [mapper_ realClassWithNSString:classAttribute]);
      }
      if ([((ComThoughtworksXstreamConvertersReflectionSerializationMethodInvoker *) nil_chk(serializationMethodInvoker_)) supportsReadObjectWithIOSClass:IOSObjectArray_Get(currentType, 0) withBoolean:NO]) {
        ComThoughtworksXstreamCoreUtilCustomObjectInputStream *objectInputStream = ComThoughtworksXstreamCoreUtilCustomObjectInputStream_getInstanceWithComThoughtworksXstreamConvertersDataHolder_withComThoughtworksXstreamCoreUtilCustomObjectInputStream_StreamCallback_withComThoughtworksXstreamCoreClassLoaderReference_(
#line 453
        context, callback, classLoaderReference_);
        [serializationMethodInvoker_ callReadObjectWithIOSClass:IOSObjectArray_Get(currentType, 0) withId:result withJavaIoObjectInputStream:objectInputStream];
        (void) [((ComThoughtworksXstreamCoreUtilCustomObjectInputStream *) nil_chk(objectInputStream)) popCallback];
      }
      else {
        
#line 457
        @try {
          [callback defaultReadObject];
        }
        @catch (
#line 459
        JavaIoIOException *e) {
          @throw new_ComThoughtworksXstreamConvertersReflectionObjectAccessException_initWithNSString_withJavaLangThrowable_(@"Could not call defaultWriteObject()", e);
        }
      }
    }
    [reader moveUp];
  }
  
#line 467
  return result;
}


#line 470
- (void)doMarshalConditionallyWithId:(id)source
withComThoughtworksXstreamIoHierarchicalStreamWriter:(id<ComThoughtworksXstreamIoHierarchicalStreamWriter>)writer
withComThoughtworksXstreamConvertersMarshallingContext:(id<ComThoughtworksXstreamConvertersMarshallingContext>)context {
  if (ComThoughtworksXstreamConvertersReflectionSerializableConverter_isSerializableWithIOSClass_(self, [nil_chk(source) getClass])) {
    [self doMarshalWithId:source withComThoughtworksXstreamIoHierarchicalStreamWriter:writer withComThoughtworksXstreamConvertersMarshallingContext:context];
  }
  else {
    
#line 474
    [super doMarshalWithId:source withComThoughtworksXstreamIoHierarchicalStreamWriter:writer withComThoughtworksXstreamConvertersMarshallingContext:context];
  }
}


#line 478
- (id)doUnmarshalConditionallyWithId:(id)result
withComThoughtworksXstreamIoHierarchicalStreamReader:(id<ComThoughtworksXstreamIoHierarchicalStreamReader>)reader
withComThoughtworksXstreamConvertersUnmarshallingContext:(id<ComThoughtworksXstreamConvertersUnmarshallingContext>)context {
  return ComThoughtworksXstreamConvertersReflectionSerializableConverter_isSerializableWithIOSClass_(self, [nil_chk(result) getClass]) ? [self doUnmarshalWithId:result withComThoughtworksXstreamIoHierarchicalStreamReader:reader withComThoughtworksXstreamConvertersUnmarshallingContext:context] : [super doUnmarshalWithId:result withComThoughtworksXstreamIoHierarchicalStreamReader:reader withComThoughtworksXstreamConvertersUnmarshallingContext:context];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithComThoughtworksXstreamMapperMapper:withComThoughtworksXstreamConvertersReflectionReflectionProvider:withComThoughtworksXstreamCoreClassLoaderReference:", "SerializableConverter", NULL, 0x1, NULL, NULL },
    { "initWithComThoughtworksXstreamMapperMapper:withComThoughtworksXstreamConvertersReflectionReflectionProvider:withJavaLangClassLoader:", "SerializableConverter", NULL, 0x1, NULL, NULL },
    { "initWithComThoughtworksXstreamMapperMapper:withComThoughtworksXstreamConvertersReflectionReflectionProvider:", "SerializableConverter", NULL, 0x1, NULL, NULL },
    { "canConvertWithIOSClass:", "canConvert", "Z", 0x1, NULL, NULL },
    { "isSerializableWithIOSClass:", "isSerializable", "Z", 0x2, NULL, NULL },
    { "doMarshalWithId:withComThoughtworksXstreamIoHierarchicalStreamWriter:withComThoughtworksXstreamConvertersMarshallingContext:", "doMarshal", "V", 0x1, NULL, NULL },
    { "marshalUnserializableParentWithComThoughtworksXstreamIoHierarchicalStreamWriter:withComThoughtworksXstreamConvertersMarshallingContext:withId:", "marshalUnserializableParent", "V", 0x4, NULL, NULL },
    { "readFieldWithJavaIoObjectStreamField:withIOSClass:withId:", "readField", "Ljava.lang.Object;", 0x2, NULL, NULL },
    { "hierarchyForWithIOSClass:", "hierarchyFor", "Ljava.util.List;", 0x4, NULL, NULL },
    { "doUnmarshalWithId:withComThoughtworksXstreamIoHierarchicalStreamReader:withComThoughtworksXstreamConvertersUnmarshallingContext:", "doUnmarshal", "Ljava.lang.Object;", 0x1, NULL, NULL },
    { "doMarshalConditionallyWithId:withComThoughtworksXstreamIoHierarchicalStreamWriter:withComThoughtworksXstreamConvertersMarshallingContext:", "doMarshalConditionally", "V", 0x4, NULL, NULL },
    { "doUnmarshalConditionallyWithId:withComThoughtworksXstreamIoHierarchicalStreamReader:withComThoughtworksXstreamConvertersUnmarshallingContext:", "doUnmarshalConditionally", "Ljava.lang.Object;", 0x4, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "ELEMENT_NULL_", NULL, 0x1a, "Ljava.lang.String;", &ComThoughtworksXstreamConvertersReflectionSerializableConverter_ELEMENT_NULL_, NULL,  },
    { "ELEMENT_DEFAULT_", NULL, 0x1a, "Ljava.lang.String;", &ComThoughtworksXstreamConvertersReflectionSerializableConverter_ELEMENT_DEFAULT_, NULL,  },
    { "ELEMENT_UNSERIALIZABLE_PARENTS_", NULL, 0x1a, "Ljava.lang.String;", &ComThoughtworksXstreamConvertersReflectionSerializableConverter_ELEMENT_UNSERIALIZABLE_PARENTS_, NULL,  },
    { "ATTRIBUTE_CLASS_", NULL, 0x1a, "Ljava.lang.String;", &ComThoughtworksXstreamConvertersReflectionSerializableConverter_ATTRIBUTE_CLASS_, NULL,  },
    { "ATTRIBUTE_SERIALIZATION_", NULL, 0x1a, "Ljava.lang.String;", &ComThoughtworksXstreamConvertersReflectionSerializableConverter_ATTRIBUTE_SERIALIZATION_, NULL,  },
    { "ATTRIBUTE_VALUE_CUSTOM_", NULL, 0x1a, "Ljava.lang.String;", &ComThoughtworksXstreamConvertersReflectionSerializableConverter_ATTRIBUTE_VALUE_CUSTOM_, NULL,  },
    { "ELEMENT_FIELDS_", NULL, 0x1a, "Ljava.lang.String;", &ComThoughtworksXstreamConvertersReflectionSerializableConverter_ELEMENT_FIELDS_, NULL,  },
    { "ELEMENT_FIELD_", NULL, 0x1a, "Ljava.lang.String;", &ComThoughtworksXstreamConvertersReflectionSerializableConverter_ELEMENT_FIELD_, NULL,  },
    { "ATTRIBUTE_NAME_", NULL, 0x1a, "Ljava.lang.String;", &ComThoughtworksXstreamConvertersReflectionSerializableConverter_ATTRIBUTE_NAME_, NULL,  },
    { "classLoaderReference_", NULL, 0x12, "Lcom.thoughtworks.xstream.core.ClassLoaderReference;", NULL, NULL,  },
  };
  static const char *inner_classes[] = {"Lcom.thoughtworks.xstream.converters.reflection.SerializableConverter$UnserializableParentsReflectionProvider;"};
  static const J2ObjcClassInfo _ComThoughtworksXstreamConvertersReflectionSerializableConverter = { 2, "SerializableConverter", "com.thoughtworks.xstream.converters.reflection", NULL, 0x1, 12, methods, 10, fields, 0, NULL, 1, inner_classes, NULL, NULL };
  return &_ComThoughtworksXstreamConvertersReflectionSerializableConverter;
}

@end


#line 83
void ComThoughtworksXstreamConvertersReflectionSerializableConverter_initWithComThoughtworksXstreamMapperMapper_withComThoughtworksXstreamConvertersReflectionReflectionProvider_withComThoughtworksXstreamCoreClassLoaderReference_(ComThoughtworksXstreamConvertersReflectionSerializableConverter *self, id<ComThoughtworksXstreamMapperMapper> mapper, id<ComThoughtworksXstreamConvertersReflectionReflectionProvider> reflectionProvider, ComThoughtworksXstreamCoreClassLoaderReference *classLoaderReference) {
  (void) ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_initWithComThoughtworksXstreamMapperMapper_withComThoughtworksXstreamConvertersReflectionReflectionProvider_(self, mapper, new_ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_initWithComThoughtworksXstreamConvertersReflectionReflectionProvider_(reflectionProvider));
  self->classLoaderReference_ = classLoaderReference;
}


#line 83
ComThoughtworksXstreamConvertersReflectionSerializableConverter *new_ComThoughtworksXstreamConvertersReflectionSerializableConverter_initWithComThoughtworksXstreamMapperMapper_withComThoughtworksXstreamConvertersReflectionReflectionProvider_withComThoughtworksXstreamCoreClassLoaderReference_(id<ComThoughtworksXstreamMapperMapper> mapper, id<ComThoughtworksXstreamConvertersReflectionReflectionProvider> reflectionProvider, ComThoughtworksXstreamCoreClassLoaderReference *classLoaderReference) {
  ComThoughtworksXstreamConvertersReflectionSerializableConverter *self = [ComThoughtworksXstreamConvertersReflectionSerializableConverter alloc];
  ComThoughtworksXstreamConvertersReflectionSerializableConverter_initWithComThoughtworksXstreamMapperMapper_withComThoughtworksXstreamConvertersReflectionReflectionProvider_withComThoughtworksXstreamCoreClassLoaderReference_(self, mapper, reflectionProvider, classLoaderReference);
  return self;
}


#line 91
void ComThoughtworksXstreamConvertersReflectionSerializableConverter_initWithComThoughtworksXstreamMapperMapper_withComThoughtworksXstreamConvertersReflectionReflectionProvider_withJavaLangClassLoader_(ComThoughtworksXstreamConvertersReflectionSerializableConverter *self, id<ComThoughtworksXstreamMapperMapper> mapper, id<ComThoughtworksXstreamConvertersReflectionReflectionProvider> reflectionProvider, JavaLangClassLoader *classLoader) {
  (void) ComThoughtworksXstreamConvertersReflectionSerializableConverter_initWithComThoughtworksXstreamMapperMapper_withComThoughtworksXstreamConvertersReflectionReflectionProvider_withComThoughtworksXstreamCoreClassLoaderReference_(self, mapper, reflectionProvider, new_ComThoughtworksXstreamCoreClassLoaderReference_initWithJavaLangClassLoader_(classLoader));
}


#line 91
ComThoughtworksXstreamConvertersReflectionSerializableConverter *new_ComThoughtworksXstreamConvertersReflectionSerializableConverter_initWithComThoughtworksXstreamMapperMapper_withComThoughtworksXstreamConvertersReflectionReflectionProvider_withJavaLangClassLoader_(id<ComThoughtworksXstreamMapperMapper> mapper, id<ComThoughtworksXstreamConvertersReflectionReflectionProvider> reflectionProvider, JavaLangClassLoader *classLoader) {
  ComThoughtworksXstreamConvertersReflectionSerializableConverter *self = [ComThoughtworksXstreamConvertersReflectionSerializableConverter alloc];
  ComThoughtworksXstreamConvertersReflectionSerializableConverter_initWithComThoughtworksXstreamMapperMapper_withComThoughtworksXstreamConvertersReflectionReflectionProvider_withJavaLangClassLoader_(self, mapper, reflectionProvider, classLoader);
  return self;
}


#line 98
void ComThoughtworksXstreamConvertersReflectionSerializableConverter_initWithComThoughtworksXstreamMapperMapper_withComThoughtworksXstreamConvertersReflectionReflectionProvider_(ComThoughtworksXstreamConvertersReflectionSerializableConverter *self, id<ComThoughtworksXstreamMapperMapper> mapper, id<ComThoughtworksXstreamConvertersReflectionReflectionProvider> reflectionProvider) {
  (void) ComThoughtworksXstreamConvertersReflectionSerializableConverter_initWithComThoughtworksXstreamMapperMapper_withComThoughtworksXstreamConvertersReflectionReflectionProvider_withComThoughtworksXstreamCoreClassLoaderReference_(self, mapper, new_ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_initWithComThoughtworksXstreamConvertersReflectionReflectionProvider_(reflectionProvider), new_ComThoughtworksXstreamCoreClassLoaderReference_initWithJavaLangClassLoader_(nil));
}


#line 98
ComThoughtworksXstreamConvertersReflectionSerializableConverter *new_ComThoughtworksXstreamConvertersReflectionSerializableConverter_initWithComThoughtworksXstreamMapperMapper_withComThoughtworksXstreamConvertersReflectionReflectionProvider_(id<ComThoughtworksXstreamMapperMapper> mapper, id<ComThoughtworksXstreamConvertersReflectionReflectionProvider> reflectionProvider) {
  ComThoughtworksXstreamConvertersReflectionSerializableConverter *self = [ComThoughtworksXstreamConvertersReflectionSerializableConverter alloc];
  ComThoughtworksXstreamConvertersReflectionSerializableConverter_initWithComThoughtworksXstreamMapperMapper_withComThoughtworksXstreamConvertersReflectionReflectionProvider_(self, mapper, reflectionProvider);
  return self;
}


#line 106
jboolean ComThoughtworksXstreamConvertersReflectionSerializableConverter_isSerializableWithIOSClass_(ComThoughtworksXstreamConvertersReflectionSerializableConverter *self, IOSClass *type) {
  if (type != nil &&
#line 108
  [JavaIoSerializable_class_() isAssignableFrom:type] &&
#line 109
  ![type isInterface] &&
#line 110
  ([((ComThoughtworksXstreamConvertersReflectionSerializationMethodInvoker *) nil_chk(self->serializationMethodInvoker_)) supportsReadObjectWithIOSClass:type withBoolean:YES] || [self->serializationMethodInvoker_ supportsWriteObjectWithIOSClass:
#line 111
  type withBoolean:YES])) {
    for (id<JavaUtilIterator> iter = [((id<JavaUtilList>) nil_chk([self hierarchyForWithIOSClass:type])) iterator]; [((id<JavaUtilIterator>) nil_chk(iter)) hasNext]; ) {
      if (![JavaIoSerializable_class_() isAssignableFrom:(IOSClass *) check_class_cast([iter next], [IOSClass class])]) {
        return [self canAccessWithIOSClass:type];
      }
    }
    return YES;
  }
  return NO;
}


#line 296
id ComThoughtworksXstreamConvertersReflectionSerializableConverter_readFieldWithJavaIoObjectStreamField_withIOSClass_withId_(ComThoughtworksXstreamConvertersReflectionSerializableConverter *self, JavaIoObjectStreamField *field, IOSClass *type, id instance) {
  @try {
    JavaLangReflectField *javaField = [((IOSClass *) nil_chk(type)) getDeclaredField:[((JavaIoObjectStreamField *) nil_chk(field)) getName]];
    if (![((JavaLangReflectField *) nil_chk(javaField)) isAccessible]) {
      [javaField setAccessibleWithBoolean:YES];
    }
    return [javaField getWithId:instance];
  }
  @catch (
#line 303
  JavaLangIllegalArgumentException *e) {
    @throw new_ComThoughtworksXstreamConvertersReflectionObjectAccessException_initWithNSString_withJavaLangThrowable_(JreStrcat("$@C$", @"Could not get field ", [((JavaIoObjectStreamField *) nil_chk(field)) getClass], '.', [field getName]), e);
  }
  @catch (
#line 305
  JavaLangIllegalAccessException *e) {
    @throw new_ComThoughtworksXstreamConvertersReflectionObjectAccessException_initWithNSString_withJavaLangThrowable_(JreStrcat("$@C$", @"Could not get field ", [((JavaIoObjectStreamField *) nil_chk(field)) getClass], '.', [field getName]), e);
  }
  @catch (
#line 307
  JavaLangNoSuchFieldException *e) {
    @throw new_ComThoughtworksXstreamConvertersReflectionObjectAccessException_initWithNSString_withJavaLangThrowable_(JreStrcat("$@C$", @"Could not get field ", [((JavaIoObjectStreamField *) nil_chk(field)) getClass], '.', [field getName]), e);
  }
  @catch (
#line 309
  JavaLangSecurityException *e) {
    @throw new_ComThoughtworksXstreamConvertersReflectionObjectAccessException_initWithNSString_withJavaLangThrowable_(JreStrcat("$@C$", @"Could not get field ", [((JavaIoObjectStreamField *) nil_chk(field)) getClass], '.', [field getName]), e);
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComThoughtworksXstreamConvertersReflectionSerializableConverter)


#line 482
@implementation ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider

- (instancetype)initWithComThoughtworksXstreamConvertersReflectionReflectionProvider:(id<ComThoughtworksXstreamConvertersReflectionReflectionProvider>)reflectionProvider {
  ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_initWithComThoughtworksXstreamConvertersReflectionReflectionProvider_(self, reflectionProvider);
  return self;
}


#line 488
- (void)visitSerializableFieldsWithId:(id)object
withComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor:(id<ComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor>)visitor {
  [((id<ComThoughtworksXstreamConvertersReflectionReflectionProvider>) nil_chk(wrapped_)) visitSerializableFieldsWithId:object withComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor:new_ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_$1_initWithComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor_(visitor)];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithComThoughtworksXstreamConvertersReflectionReflectionProvider:", "UnserializableParentsReflectionProvider", NULL, 0x1, NULL, NULL },
    { "visitSerializableFieldsWithId:withComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor:", "visitSerializableFields", "V", 0x1, NULL, NULL },
  };
  static const J2ObjcClassInfo _ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider = { 2, "UnserializableParentsReflectionProvider", "com.thoughtworks.xstream.converters.reflection", "SerializableConverter", 0xa, 2, methods, 0, NULL, 0, NULL, 0, NULL, NULL, NULL };
  return &_ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider;
}

@end


#line 484
void ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_initWithComThoughtworksXstreamConvertersReflectionReflectionProvider_(ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider *self, id<ComThoughtworksXstreamConvertersReflectionReflectionProvider> reflectionProvider) {
  (void) ComThoughtworksXstreamConvertersReflectionReflectionProviderWrapper_initWithComThoughtworksXstreamConvertersReflectionReflectionProvider_(self, reflectionProvider);
}


#line 484
ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider *new_ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_initWithComThoughtworksXstreamConvertersReflectionReflectionProvider_(id<ComThoughtworksXstreamConvertersReflectionReflectionProvider> reflectionProvider) {
  ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider *self = [ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider alloc];
  ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_initWithComThoughtworksXstreamConvertersReflectionReflectionProvider_(self, reflectionProvider);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider)

@implementation ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_$1


#line 490
- (void)visitWithNSString:(NSString *)name
             withIOSClass:(IOSClass *)type
             withIOSClass:(IOSClass *)definedIn
                   withId:(id)value {
  if (![JavaIoSerializable_class_() isAssignableFrom:definedIn]) {
    [((id<ComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor>) nil_chk(val$visitor_)) visitWithNSString:name withIOSClass:type withIOSClass:definedIn withId:value];
  }
}

- (instancetype)initWithComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor:(id<ComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor>)capture$0 {
  ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_$1_initWithComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor_(self, capture$0);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "visitWithNSString:withIOSClass:withIOSClass:withId:", "visit", "V", 0x1, NULL, NULL },
    { "initWithComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "val$visitor_", NULL, 0x1012, "Lcom.thoughtworks.xstream.converters.reflection.ReflectionProvider$Visitor;", NULL, NULL,  },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider", "visitSerializableFieldsWithId:withComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor:" };
  static const J2ObjcClassInfo _ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_$1 = { 2, "", "com.thoughtworks.xstream.converters.reflection", "SerializableConverter$UnserializableParentsReflectionProvider", 0x8008, 2, methods, 1, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_$1;
}

@end

void ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_$1_initWithComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor_(ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_$1 *self, id<ComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor> capture$0) {
  self->val$visitor_ = capture$0;
  (void) NSObject_init(self);
}

ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_$1 *new_ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_$1_initWithComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor_(id<ComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor> capture$0) {
  ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_$1 *self = [ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_$1 alloc];
  ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_$1_initWithComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor_(self, capture$0);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComThoughtworksXstreamConvertersReflectionSerializableConverter_UnserializableParentsReflectionProvider_$1)

@implementation ComThoughtworksXstreamConvertersReflectionSerializableConverter_$1


#line 134
- (void)writeToStreamWithId:(id)object {
  if (object == nil) {
    [((id<ComThoughtworksXstreamIoHierarchicalStreamWriter>) nil_chk(val$writer_)) startNodeWithNSString:ComThoughtworksXstreamConvertersReflectionSerializableConverter_get_ELEMENT_NULL_()];
    [val$writer_ endNode];
  }
  else {
    
#line 139
    ComThoughtworksXstreamIoExtendedHierarchicalStreamWriterHelper_startNodeWithComThoughtworksXstreamIoHierarchicalStreamWriter_withNSString_withIOSClass_(val$writer_, [((id<ComThoughtworksXstreamMapperMapper>) nil_chk(this$0_->mapper_)) serializedClassWithIOSClass:[object getClass]], [object getClass]);
    [((id<ComThoughtworksXstreamConvertersMarshallingContext>) nil_chk(val$context_)) convertAnotherWithId:object];
    [((id<ComThoughtworksXstreamIoHierarchicalStreamWriter>) nil_chk(val$writer_)) endNode];
  }
}


#line 145
- (void)writeFieldsToStreamWithJavaUtilMap:(id<JavaUtilMap>)fields {
  JavaIoObjectStreamClass *objectStreamClass = JavaIoObjectStreamClass_lookupWithIOSClass_(IOSObjectArray_Get(nil_chk(val$currentType_), 0));
  
#line 148
  [((id<ComThoughtworksXstreamIoHierarchicalStreamWriter>) nil_chk(val$writer_)) startNodeWithNSString:ComThoughtworksXstreamConvertersReflectionSerializableConverter_get_ELEMENT_DEFAULT_()];
  for (id<JavaUtilIterator> iterator = [((id<JavaUtilSet>) nil_chk([((id<JavaUtilMap>) nil_chk(fields)) keySet])) iterator]; [((id<JavaUtilIterator>) nil_chk(iterator)) hasNext]; ) {
    NSString *name = (NSString *) check_class_cast([iterator next], [NSString class]);
    if (![((id<ComThoughtworksXstreamMapperMapper>) nil_chk(this$0_->mapper_)) shouldSerializeMemberWithIOSClass:IOSObjectArray_Get(val$currentType_, 0) withNSString:name]) {
      continue;
    }
    JavaIoObjectStreamField *field = [((JavaIoObjectStreamClass *) nil_chk(objectStreamClass)) getFieldWithNSString:name];
    id value = [fields getWithId:name];
    if (field == nil) {
      @throw new_ComThoughtworksXstreamConvertersReflectionObjectAccessException_initWithNSString_(JreStrcat("$$$$C", @"Class ", [[nil_chk(value) getClass] getName], @" may not write a field named '",
#line 158
      name, '\''));
    }
    if (value != nil) {
      ComThoughtworksXstreamIoExtendedHierarchicalStreamWriterHelper_startNodeWithComThoughtworksXstreamIoHierarchicalStreamWriter_withNSString_withIOSClass_(val$writer_,
#line 162
      [this$0_->mapper_ serializedMemberWithIOSClass:[nil_chk(val$source_) getClass] withNSString:name],
#line 163
      [value getClass]);
      if ([((JavaIoObjectStreamField *) nil_chk(field)) getType] != [value getClass] && ![((IOSClass *) nil_chk([field getType])) isPrimitive]) {
        NSString *attributeName = [this$0_->mapper_ aliasForSystemAttributeWithNSString:ComThoughtworksXstreamConvertersReflectionSerializableConverter_get_ATTRIBUTE_CLASS_()];
        if (attributeName != nil) {
          [val$writer_ addAttributeWithNSString:attributeName withNSString:[this$0_->mapper_ serializedClassWithIOSClass:[value getClass]]];
        }
      }
      [((id<ComThoughtworksXstreamConvertersMarshallingContext>) nil_chk(val$context_)) convertAnotherWithId:value];
      [val$writer_ endNode];
    }
  }
  [val$writer_ endNode];
}


#line 177
- (void)defaultWriteObject {
  jboolean writtenDefaultFields = NO;
  
#line 180
  JavaIoObjectStreamClass *objectStreamClass = JavaIoObjectStreamClass_lookupWithIOSClass_(IOSObjectArray_Get(nil_chk(val$currentType_), 0));
  
#line 182
  if (objectStreamClass == nil) {
    return;
  }
  
#line 186
  IOSObjectArray *fields = [((JavaIoObjectStreamClass *) nil_chk(objectStreamClass)) getFields];
  for (jint i = 0; i < ((IOSObjectArray *) nil_chk(fields))->size_; i++) {
    JavaIoObjectStreamField *field = IOSObjectArray_Get(fields, i);
    id value = ComThoughtworksXstreamConvertersReflectionSerializableConverter_readFieldWithJavaIoObjectStreamField_withIOSClass_withId_(this$0_, field, IOSObjectArray_Get(val$currentType_, 0), val$source_);
    if (value != nil) {
      if (!IOSBooleanArray_Get(nil_chk(val$writtenClassWrapper_), 0)) {
        [((id<ComThoughtworksXstreamIoHierarchicalStreamWriter>) nil_chk(val$writer_)) startNodeWithNSString:[((id<ComThoughtworksXstreamMapperMapper>) nil_chk(this$0_->mapper_)) serializedClassWithIOSClass:IOSObjectArray_Get(val$currentType_, 0)]];
        *IOSBooleanArray_GetRef(val$writtenClassWrapper_, 0) = YES;
      }
      if (!writtenDefaultFields) {
        [((id<ComThoughtworksXstreamIoHierarchicalStreamWriter>) nil_chk(val$writer_)) startNodeWithNSString:ComThoughtworksXstreamConvertersReflectionSerializableConverter_get_ELEMENT_DEFAULT_()];
        writtenDefaultFields = YES;
      }
      if (![((id<ComThoughtworksXstreamMapperMapper>) nil_chk(this$0_->mapper_)) shouldSerializeMemberWithIOSClass:IOSObjectArray_Get(val$currentType_, 0) withNSString:[((JavaIoObjectStreamField *) nil_chk(field)) getName]]) {
        continue;
      }
      
#line 203
      IOSClass *actualType = [value getClass];
      ComThoughtworksXstreamIoExtendedHierarchicalStreamWriterHelper_startNodeWithComThoughtworksXstreamIoHierarchicalStreamWriter_withNSString_withIOSClass_(val$writer_,
#line 205
      [this$0_->mapper_ serializedMemberWithIOSClass:[nil_chk(val$source_) getClass] withNSString:[field getName]], actualType);
      IOSClass *defaultType = [this$0_->mapper_ defaultImplementationOfWithIOSClass:[field getType]];
      if (![actualType isEqual:defaultType]) {
        NSString *attributeName = [this$0_->mapper_ aliasForSystemAttributeWithNSString:ComThoughtworksXstreamConvertersReflectionSerializableConverter_get_ATTRIBUTE_CLASS_()];
        if (attributeName != nil) {
          [((id<ComThoughtworksXstreamIoHierarchicalStreamWriter>) nil_chk(val$writer_)) addAttributeWithNSString:attributeName withNSString:[this$0_->mapper_ serializedClassWithIOSClass:actualType]];
        }
      }
      
#line 214
      [((id<ComThoughtworksXstreamConvertersMarshallingContext>) nil_chk(val$context_)) convertAnotherWithId:value];
      
#line 216
      [((id<ComThoughtworksXstreamIoHierarchicalStreamWriter>) nil_chk(val$writer_)) endNode];
    }
  }
  if (IOSBooleanArray_Get(nil_chk(val$writtenClassWrapper_), 0) && !writtenDefaultFields) {
    [((id<ComThoughtworksXstreamIoHierarchicalStreamWriter>) nil_chk(val$writer_)) startNodeWithNSString:ComThoughtworksXstreamConvertersReflectionSerializableConverter_get_ELEMENT_DEFAULT_()];
    [val$writer_ endNode];
  }
  else
#line 222
  if (writtenDefaultFields) {
    [((id<ComThoughtworksXstreamIoHierarchicalStreamWriter>) nil_chk(val$writer_)) endNode];
  }
}


#line 227
- (void)flush {
  [((id<ComThoughtworksXstreamIoHierarchicalStreamWriter>) nil_chk(val$writer_)) flush];
}

- (void)close {
  @throw new_JavaLangUnsupportedOperationException_initWithNSString_(@"Objects are not allowed to call ObjectOutputStream.close() from writeObject()");
}

- (instancetype)initWithComThoughtworksXstreamConvertersReflectionSerializableConverter:(ComThoughtworksXstreamConvertersReflectionSerializableConverter *)outer$
                                   withComThoughtworksXstreamIoHierarchicalStreamWriter:(id<ComThoughtworksXstreamIoHierarchicalStreamWriter>)capture$0
                                 withComThoughtworksXstreamConvertersMarshallingContext:(id<ComThoughtworksXstreamConvertersMarshallingContext>)capture$1
                                                                      withIOSClassArray:(IOSObjectArray *)capture$2
                                                                                 withId:(id)capture$3
                                                                       withBooleanArray:(IOSBooleanArray *)capture$4 {
  ComThoughtworksXstreamConvertersReflectionSerializableConverter_$1_initWithComThoughtworksXstreamConvertersReflectionSerializableConverter_withComThoughtworksXstreamIoHierarchicalStreamWriter_withComThoughtworksXstreamConvertersMarshallingContext_withIOSClassArray_withId_withBooleanArray_(self, outer$, capture$0, capture$1, capture$2, capture$3, capture$4);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "writeToStreamWithId:", "writeToStream", "V", 0x1, NULL, NULL },
    { "writeFieldsToStreamWithJavaUtilMap:", "writeFieldsToStream", "V", 0x1, NULL, NULL },
    { "defaultWriteObject", NULL, "V", 0x1, NULL, NULL },
    { "flush", NULL, "V", 0x1, NULL, NULL },
    { "close", NULL, "V", 0x1, NULL, NULL },
    { "initWithComThoughtworksXstreamConvertersReflectionSerializableConverter:withComThoughtworksXstreamIoHierarchicalStreamWriter:withComThoughtworksXstreamConvertersMarshallingContext:withIOSClassArray:withId:withBooleanArray:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lcom.thoughtworks.xstream.converters.reflection.SerializableConverter;", NULL, NULL,  },
    { "val$writer_", NULL, 0x1012, "Lcom.thoughtworks.xstream.io.HierarchicalStreamWriter;", NULL, NULL,  },
    { "val$context_", NULL, 0x1012, "Lcom.thoughtworks.xstream.converters.MarshallingContext;", NULL, NULL,  },
    { "val$currentType_", NULL, 0x1012, "[Ljava.lang.Class;", NULL, NULL,  },
    { "val$source_", NULL, 0x1012, "Ljava.lang.Object;", NULL, NULL,  },
    { "val$writtenClassWrapper_", NULL, 0x1012, "[Z", NULL, NULL,  },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "ComThoughtworksXstreamConvertersReflectionSerializableConverter", "doMarshalWithId:withComThoughtworksXstreamIoHierarchicalStreamWriter:withComThoughtworksXstreamConvertersMarshallingContext:" };
  static const J2ObjcClassInfo _ComThoughtworksXstreamConvertersReflectionSerializableConverter_$1 = { 2, "", "com.thoughtworks.xstream.converters.reflection", "SerializableConverter", 0x8008, 6, methods, 6, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_ComThoughtworksXstreamConvertersReflectionSerializableConverter_$1;
}

@end

void ComThoughtworksXstreamConvertersReflectionSerializableConverter_$1_initWithComThoughtworksXstreamConvertersReflectionSerializableConverter_withComThoughtworksXstreamIoHierarchicalStreamWriter_withComThoughtworksXstreamConvertersMarshallingContext_withIOSClassArray_withId_withBooleanArray_(ComThoughtworksXstreamConvertersReflectionSerializableConverter_$1 *self, ComThoughtworksXstreamConvertersReflectionSerializableConverter *outer$, id<ComThoughtworksXstreamIoHierarchicalStreamWriter> capture$0, id<ComThoughtworksXstreamConvertersMarshallingContext> capture$1, IOSObjectArray *capture$2, id capture$3, IOSBooleanArray *capture$4) {
  self->this$0_ = outer$;
  self->val$writer_ = capture$0;
  self->val$context_ = capture$1;
  self->val$currentType_ = capture$2;
  self->val$source_ = capture$3;
  self->val$writtenClassWrapper_ = capture$4;
  (void) NSObject_init(self);
}

ComThoughtworksXstreamConvertersReflectionSerializableConverter_$1 *new_ComThoughtworksXstreamConvertersReflectionSerializableConverter_$1_initWithComThoughtworksXstreamConvertersReflectionSerializableConverter_withComThoughtworksXstreamIoHierarchicalStreamWriter_withComThoughtworksXstreamConvertersMarshallingContext_withIOSClassArray_withId_withBooleanArray_(ComThoughtworksXstreamConvertersReflectionSerializableConverter *outer$, id<ComThoughtworksXstreamIoHierarchicalStreamWriter> capture$0, id<ComThoughtworksXstreamConvertersMarshallingContext> capture$1, IOSObjectArray *capture$2, id capture$3, IOSBooleanArray *capture$4) {
  ComThoughtworksXstreamConvertersReflectionSerializableConverter_$1 *self = [ComThoughtworksXstreamConvertersReflectionSerializableConverter_$1 alloc];
  ComThoughtworksXstreamConvertersReflectionSerializableConverter_$1_initWithComThoughtworksXstreamConvertersReflectionSerializableConverter_withComThoughtworksXstreamIoHierarchicalStreamWriter_withComThoughtworksXstreamConvertersMarshallingContext_withIOSClassArray_withId_withBooleanArray_(self, outer$, capture$0, capture$1, capture$2, capture$3, capture$4);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComThoughtworksXstreamConvertersReflectionSerializableConverter_$1)

@implementation ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2


#line 337
- (id)readFromStream {
  [((id<ComThoughtworksXstreamIoHierarchicalStreamReader>) nil_chk(val$reader_)) moveDown];
  IOSClass *type = ComThoughtworksXstreamCoreUtilHierarchicalStreams_readClassTypeWithComThoughtworksXstreamIoHierarchicalStreamReader_withComThoughtworksXstreamMapperMapper_(val$reader_, this$0_->mapper_);
  id value = [((id<ComThoughtworksXstreamConvertersUnmarshallingContext>) nil_chk(val$context_)) convertAnotherWithId:val$result_ withIOSClass:type];
  [val$reader_ moveUp];
  return value;
}

- (id<JavaUtilMap>)readFieldsFromStream {
  id<JavaUtilMap> fields = new_JavaUtilHashMap_init();
  [((id<ComThoughtworksXstreamIoHierarchicalStreamReader>) nil_chk(val$reader_)) moveDown];
  if ([((NSString *) nil_chk([val$reader_ getNodeName])) isEqual:ComThoughtworksXstreamConvertersReflectionSerializableConverter_get_ELEMENT_FIELDS_()]) {
    
#line 350
    while ([val$reader_ hasMoreChildren]) {
      [val$reader_ moveDown];
      if (![((NSString *) nil_chk([val$reader_ getNodeName])) isEqual:ComThoughtworksXstreamConvertersReflectionSerializableConverter_get_ELEMENT_FIELD_()]) {
        @throw new_ComThoughtworksXstreamConvertersConversionException_initWithNSString_(JreStrcat("$$$$$", @"Expected <", ComThoughtworksXstreamConvertersReflectionSerializableConverter_get_ELEMENT_FIELD_(), @"/> element inside <", ComThoughtworksXstreamConvertersReflectionSerializableConverter_get_ELEMENT_FIELD_(), @"/>"));
      }
      NSString *name = [val$reader_ getAttributeWithNSString:ComThoughtworksXstreamConvertersReflectionSerializableConverter_get_ATTRIBUTE_NAME_()];
      IOSClass *type = [((id<ComThoughtworksXstreamMapperMapper>) nil_chk(this$0_->mapper_)) realClassWithNSString:[val$reader_ getAttributeWithNSString:ComThoughtworksXstreamConvertersReflectionSerializableConverter_get_ATTRIBUTE_CLASS_()]];
      id value = [((id<ComThoughtworksXstreamConvertersUnmarshallingContext>) nil_chk(val$context_)) convertAnotherWithId:val$result_ withIOSClass:type];
      (void) [fields putWithId:name withId:value];
      [val$reader_ moveUp];
    }
  }
  else
#line 361
  if ([((NSString *) nil_chk([val$reader_ getNodeName])) isEqual:ComThoughtworksXstreamConvertersReflectionSerializableConverter_get_ELEMENT_DEFAULT_()]) {
    
#line 363
    JavaIoObjectStreamClass *objectStreamClass = JavaIoObjectStreamClass_lookupWithIOSClass_(IOSObjectArray_Get(nil_chk(val$currentType_), 0));
    while ([val$reader_ hasMoreChildren]) {
      [val$reader_ moveDown];
      NSString *name = [((id<ComThoughtworksXstreamMapperMapper>) nil_chk(this$0_->mapper_)) realMemberWithIOSClass:IOSObjectArray_Get(val$currentType_, 0) withNSString:[val$reader_ getNodeName]];
      if ([this$0_->mapper_ shouldSerializeMemberWithIOSClass:IOSObjectArray_Get(val$currentType_, 0) withNSString:name]) {
        NSString *classAttribute = ComThoughtworksXstreamCoreUtilHierarchicalStreams_readClassAttributeWithComThoughtworksXstreamIoHierarchicalStreamReader_withComThoughtworksXstreamMapperMapper_(val$reader_, this$0_->mapper_);
        IOSClass *type;
        if (classAttribute != nil) {
          type = [this$0_->mapper_ realClassWithNSString:classAttribute];
        }
        else {
          
#line 373
          JavaIoObjectStreamField *field = [((JavaIoObjectStreamClass *) nil_chk(objectStreamClass)) getFieldWithNSString:name];
          if (field == nil) {
            @throw new_ComThoughtworksXstreamConvertersReflectionMissingFieldException_initWithNSString_withNSString_([((IOSClass *) nil_chk(IOSObjectArray_Get(val$currentType_, 0))) getName], name);
          }
          type = [((JavaIoObjectStreamField *) nil_chk(field)) getType];
        }
        id value = [((id<ComThoughtworksXstreamConvertersUnmarshallingContext>) nil_chk(val$context_)) convertAnotherWithId:val$result_ withIOSClass:type];
        (void) [fields putWithId:name withId:value];
      }
      [val$reader_ moveUp];
    }
  }
  else {
    
#line 385
    @throw new_ComThoughtworksXstreamConvertersConversionException_initWithNSString_(JreStrcat("$$$$$", @"Expected <", ComThoughtworksXstreamConvertersReflectionSerializableConverter_get_ELEMENT_FIELDS_(), @"/> or <", ComThoughtworksXstreamConvertersReflectionSerializableConverter_get_ELEMENT_DEFAULT_(), @"/> element when calling ObjectInputStream.readFields()"));
  }
  
#line 388
  [val$reader_ moveUp];
  return fields;
}


#line 392
- (void)defaultReadObject {
  if (![((id<ComThoughtworksXstreamIoHierarchicalStreamReader>) nil_chk(val$reader_)) hasMoreChildren]) {
    return;
  }
  [val$reader_ moveDown];
  if (![((NSString *) nil_chk([val$reader_ getNodeName])) isEqual:ComThoughtworksXstreamConvertersReflectionSerializableConverter_get_ELEMENT_DEFAULT_()]) {
    @throw new_ComThoughtworksXstreamConvertersConversionException_initWithNSString_(JreStrcat("$$$", @"Expected <", ComThoughtworksXstreamConvertersReflectionSerializableConverter_get_ELEMENT_DEFAULT_(), @"/> element in readObject() stream"));
  }
  while ([val$reader_ hasMoreChildren]) {
    [val$reader_ moveDown];
    
#line 403
    NSString *fieldName = [((id<ComThoughtworksXstreamMapperMapper>) nil_chk(this$0_->mapper_)) realMemberWithIOSClass:IOSObjectArray_Get(nil_chk(val$currentType_), 0) withNSString:[val$reader_ getNodeName]];
    if ([this$0_->mapper_ shouldSerializeMemberWithIOSClass:IOSObjectArray_Get(val$currentType_, 0) withNSString:fieldName]) {
      NSString *classAttribute = ComThoughtworksXstreamCoreUtilHierarchicalStreams_readClassAttributeWithComThoughtworksXstreamIoHierarchicalStreamReader_withComThoughtworksXstreamMapperMapper_(val$reader_, this$0_->mapper_);
      IOSClass *type;
      if (classAttribute != nil) {
        type = [this$0_->mapper_ realClassWithNSString:classAttribute];
      }
      else {
        
#line 410
        type = [this$0_->mapper_ defaultImplementationOfWithIOSClass:[((id<ComThoughtworksXstreamConvertersReflectionReflectionProvider>) nil_chk(this$0_->reflectionProvider_)) getFieldTypeWithId:val$result_ withNSString:fieldName withIOSClass:IOSObjectArray_Get(val$currentType_, 0)]];
      }
      
#line 413
      id value = [((id<ComThoughtworksXstreamConvertersUnmarshallingContext>) nil_chk(val$context_)) convertAnotherWithId:val$result_ withIOSClass:type];
      [((id<ComThoughtworksXstreamConvertersReflectionReflectionProvider>) nil_chk(this$0_->reflectionProvider_)) writeFieldWithId:val$result_ withNSString:fieldName withId:value withIOSClass:IOSObjectArray_Get(val$currentType_, 0)];
    }
    
#line 417
    [val$reader_ moveUp];
  }
  [val$reader_ moveUp];
}


#line 422
- (void)registerValidationWithJavaIoObjectInputValidation:(id<JavaIoObjectInputValidation>)validation
                                                  withInt:(jint)priority {
  [((id<ComThoughtworksXstreamConvertersUnmarshallingContext>) nil_chk(val$context_)) addCompletionCallbackWithJavaLangRunnable:new_ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_$1_initWithJavaIoObjectInputValidation_(validation) withInt:
#line 431
  priority];
}


#line 434
- (void)close {
  @throw new_JavaLangUnsupportedOperationException_initWithNSString_(@"Objects are not allowed to call ObjectInputStream.close() from readObject()");
}

- (instancetype)initWithComThoughtworksXstreamConvertersReflectionSerializableConverter:(ComThoughtworksXstreamConvertersReflectionSerializableConverter *)outer$
                                   withComThoughtworksXstreamIoHierarchicalStreamReader:(id<ComThoughtworksXstreamIoHierarchicalStreamReader>)capture$0
                               withComThoughtworksXstreamConvertersUnmarshallingContext:(id<ComThoughtworksXstreamConvertersUnmarshallingContext>)capture$1
                                                                                 withId:(id)capture$2
                                                                      withIOSClassArray:(IOSObjectArray *)capture$3 {
  ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_initWithComThoughtworksXstreamConvertersReflectionSerializableConverter_withComThoughtworksXstreamIoHierarchicalStreamReader_withComThoughtworksXstreamConvertersUnmarshallingContext_withId_withIOSClassArray_(self, outer$, capture$0, capture$1, capture$2, capture$3);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "readFromStream", NULL, "Ljava.lang.Object;", 0x1, NULL, NULL },
    { "readFieldsFromStream", NULL, "Ljava.util.Map;", 0x1, NULL, NULL },
    { "defaultReadObject", NULL, "V", 0x1, NULL, NULL },
    { "registerValidationWithJavaIoObjectInputValidation:withInt:", "registerValidation", "V", 0x1, NULL, NULL },
    { "close", NULL, "V", 0x1, NULL, NULL },
    { "initWithComThoughtworksXstreamConvertersReflectionSerializableConverter:withComThoughtworksXstreamIoHierarchicalStreamReader:withComThoughtworksXstreamConvertersUnmarshallingContext:withId:withIOSClassArray:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lcom.thoughtworks.xstream.converters.reflection.SerializableConverter;", NULL, NULL,  },
    { "val$reader_", NULL, 0x1012, "Lcom.thoughtworks.xstream.io.HierarchicalStreamReader;", NULL, NULL,  },
    { "val$context_", NULL, 0x1012, "Lcom.thoughtworks.xstream.converters.UnmarshallingContext;", NULL, NULL,  },
    { "val$result_", NULL, 0x1012, "Ljava.lang.Object;", NULL, NULL,  },
    { "val$currentType_", NULL, 0x1012, "[Ljava.lang.Class;", NULL, NULL,  },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "ComThoughtworksXstreamConvertersReflectionSerializableConverter", "doUnmarshalWithId:withComThoughtworksXstreamIoHierarchicalStreamReader:withComThoughtworksXstreamConvertersUnmarshallingContext:" };
  static const J2ObjcClassInfo _ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2 = { 2, "", "com.thoughtworks.xstream.converters.reflection", "SerializableConverter", 0x8008, 6, methods, 5, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2;
}

@end

void ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_initWithComThoughtworksXstreamConvertersReflectionSerializableConverter_withComThoughtworksXstreamIoHierarchicalStreamReader_withComThoughtworksXstreamConvertersUnmarshallingContext_withId_withIOSClassArray_(ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2 *self, ComThoughtworksXstreamConvertersReflectionSerializableConverter *outer$, id<ComThoughtworksXstreamIoHierarchicalStreamReader> capture$0, id<ComThoughtworksXstreamConvertersUnmarshallingContext> capture$1, id capture$2, IOSObjectArray *capture$3) {
  self->this$0_ = outer$;
  self->val$reader_ = capture$0;
  self->val$context_ = capture$1;
  self->val$result_ = capture$2;
  self->val$currentType_ = capture$3;
  (void) NSObject_init(self);
}

ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2 *new_ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_initWithComThoughtworksXstreamConvertersReflectionSerializableConverter_withComThoughtworksXstreamIoHierarchicalStreamReader_withComThoughtworksXstreamConvertersUnmarshallingContext_withId_withIOSClassArray_(ComThoughtworksXstreamConvertersReflectionSerializableConverter *outer$, id<ComThoughtworksXstreamIoHierarchicalStreamReader> capture$0, id<ComThoughtworksXstreamConvertersUnmarshallingContext> capture$1, id capture$2, IOSObjectArray *capture$3) {
  ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2 *self = [ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2 alloc];
  ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_initWithComThoughtworksXstreamConvertersReflectionSerializableConverter_withComThoughtworksXstreamIoHierarchicalStreamReader_withComThoughtworksXstreamConvertersUnmarshallingContext_withId_withIOSClassArray_(self, outer$, capture$0, capture$1, capture$2, capture$3);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2)

@implementation ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_$1


#line 424
- (void)run {
  @try {
    [((id<JavaIoObjectInputValidation>) nil_chk(val$validation_)) validateObject];
  }
  @catch (
#line 427
  JavaIoInvalidObjectException *e) {
    @throw new_ComThoughtworksXstreamConvertersReflectionObjectAccessException_initWithNSString_withJavaLangThrowable_(JreStrcat("$$", @"Cannot validate object : ", [((JavaIoInvalidObjectException *) nil_chk(e)) getMessage]), e);
  }
}

- (instancetype)initWithJavaIoObjectInputValidation:(id<JavaIoObjectInputValidation>)capture$0 {
  ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_$1_initWithJavaIoObjectInputValidation_(self, capture$0);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "run", NULL, "V", 0x1, NULL, NULL },
    { "initWithJavaIoObjectInputValidation:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "val$validation_", NULL, 0x1012, "Ljava.io.ObjectInputValidation;", NULL, NULL,  },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2", "registerValidationWithJavaIoObjectInputValidation:withInt:" };
  static const J2ObjcClassInfo _ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_$1 = { 2, "", "com.thoughtworks.xstream.converters.reflection", "SerializableConverter$", 0x8008, 2, methods, 1, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_$1;
}

@end

void ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_$1_initWithJavaIoObjectInputValidation_(ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_$1 *self, id<JavaIoObjectInputValidation> capture$0) {
  self->val$validation_ = capture$0;
  (void) NSObject_init(self);
}

ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_$1 *new_ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_$1_initWithJavaIoObjectInputValidation_(id<JavaIoObjectInputValidation> capture$0) {
  ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_$1 *self = [ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_$1 alloc];
  ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_$1_initWithJavaIoObjectInputValidation_(self, capture$0);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComThoughtworksXstreamConvertersReflectionSerializableConverter_$2_$1)
